{"version":3,"sources":["pages/ContractDetection/stylePro.tsx","assets/svg/icon_green.svg","assets/svg/icon_red.svg","assets/svg/icon_yellow.svg","data/Allowances.ts","hooks/useApproveCallback.ts","components/ModalViews/index.tsx","hooks/useCancleApprove.ts","components/TransactionConfirmationModal/index.tsx","pages/ContractDetection/component/Erc20List.tsx","hooks/useERC721ApproveAllCallback.ts","pages/ContractDetection/component/Erc721List.tsx","pages/ContractDetection/component/ContractDetectionHistory.tsx"],"names":["ContractDetectionDetailProDom","styled","div","StyleBg","maskBg","Container","SharePic","Line","TitText","ItemsIntro","Executive","Summary","icon","ColorTexts","span","type","Colorsecurity","Findings","introBg","findBg","Disclaimer","disBg","module","exports","useTokenAllowance","token","owner","spender","contract","useTokenContract","address","inputs","useMemo","allowance","useSingleCallResult","result","TokenAmount","toString","undefined","ApprovalState","ConfirmOrLoadingWrapper","LoadingView","children","onDismiss","className","SubmittedView","hash","hideLink","isError","chainId","useActiveWeb3React","href","getEtherscanLink","onClick","Wrapper","Section","AutoColumn","CloseBtn","TitleText","TitleText1","CloseIcon","theme","text2","ConfirmationPendingContent","pendingText","Loader","TransactionSubmittedContent","TransactionErrorContent","message","title","TransactionConfirmationModal","isOpen","attemptingTxn","content","error","errorMsg","submittedContent","PcModal","minWidth","maxWidth","minHeight","Listdom","resultList","useState","initLoad","setInitLoad","erc20address","setErc20address","erc20Token","setErc20Token","erc20contract","setErc20Contract","transactionModalOpen","setTransactionModalOpen","setAttemptingTxn","setHash","setError","setErrorMsg","amountToApprove","account","currentAllowance","approvalState","currency","ETHER","APPROVED","Number","toExact","NOT_APPROVED","UNKNOWN","tokenContract","addTransaction","useTransactionAdder","useCallback","console","estimateGas","approve","MaxUint256","catch","estimatedGas","gasLimit","calculateGasMargin","then","response","summary","symbol","approval","tokenAddress","debug","useApproveCallback","Token","JSBI","BigInt","triasApprovalState","triasApprovalCallback","useEffect","res","width","style","borderRadius","paddingLeft","marginRight","paddingRight","length","map","item","index","key","src","advice","danger","safe","alt","project","shortenAddress","lineHeight","malicious_behavior","chain","bscPic","ethPic","token_symbol","balance","approved_amount","params","token_address","useERC721ApproveAllCallback","isApproved","loading","useGetApproved","pendingApproval","useHasPendingApproval","PENDING","setApprovalForAll","data","erc721address","setErc721address","erc721contract","setErc721Contract","useERC721Contract","approvalCallback","nft_name","nft_symbol","nft_address","TabPane","Tabs","showsecurity","ContractDetectionHistory","TotalTest","localStorage","getItem","ErcData","JSON","parse","NftData","erc20resultList","setErc20resultList","nftresultList","setNftresultList","useWeb3React","history","useHistory","addressString","window","location","substring","lastIndexOf","push","scrollTo","top","behavior","Icon_red","Icon_green","Icon_yellow","margin","defaultActiveKey","tab"],"mappings":"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","file":"static/js/11.088ff1e5.chunk.js","sourcesContent":["import styled from \"styled-components\";\nimport StyleBg from \"../../assets/images/contrastDetecPro/StyleBg.png\";\nimport maskBg from \"../../assets/images/contrastDetecPro/maskBg.png\";\nimport introBg from \"../../assets/images/contrastDetecPro/introBg.png\";\nimport findBg from \"../../assets/images/contrastDetecPro/findbg.png\";\nimport disBg from \"../../assets/images/contrastDetecPro/disBg.png\";\nimport SharePic from \"../../assets/images/contrastDetec/SharePic.png\";\nimport icon from \"../../assets/images/tips.png\";\n\nexport const ContractDetectionDetailProDom = styled.div`\n  width: 100%;\n  padding-top: 134px;\n  background: url(${StyleBg});\n  background-size: 100% 346px;\n  background-repeat: no-repeat;\n  min-height: 400px;\n  position: relative;\n  .maskDiv {\n    position: absolute;\n    top: 292px;\n    width: 100%;\n    height: 54px;\n    background-image: url(${maskBg});\n    background-size: 100% 100%;\n    background-repeat: no-repeat;\n    z-index: 0;\n  }\n`;\n\nexport const Container = styled.div`\n  width: 1294px;\n  margin: 0 auto;\n  .header {\n    position: relative;\n    .timer {\n      font-size: 20px;\n      font-family: Poppins-Regular, Poppins;\n      font-weight: 400;\n      color: #ffffff;\n      line-height: 28px;\n      margin-bottom: 24px;\n    }\n    .con {\n      position: relative;\n      padding: 24px 0 40px;\n      p {\n        height: 96px;\n        font-size: 56px;\n        font-family: Poppins-SemiBold, Poppins;\n        color: #ffffff;\n        line-height: 96px;\n        margin-bottom: 24px;\n        font-weight: 600;\n        position: relative;\n        img {\n          width: 180px;\n          height: 180px;\n          position: absolute;\n          top: 0;\n          right: 0;\n        }\n      }\n      .text {\n        font-size: 20px;\n        font-family: Poppins-Regular, Poppins;\n        font-weight: 400;\n        color: #ffffff;\n        line-height: 28px;\n        margin-bottom: 20px;\n      }\n    }\n    .button {\n      cursor: pointer;\n      /* width: 220px; */\n      text-align: center;\n      font-size: 20px;\n      font-family: Poppins-Regular, Poppins;\n      font-weight: 400;\n      color: #ffffff;\n      line-height: 28px;\n      /* margin-top: 80px; */\n      margin: 0 0 0;\n      position: absolute;\n      top: 0;\n      right: 0;\n\n      &::before {\n        position: absolute;\n        bottom: 0;\n        content: \"\";\n        width: 210px;\n        height: 1px;\n        background: #fff;\n      }\n      .share {\n        width: 28px;\n        height: 28px;\n        border-radius: 14px;\n        cursor: pointer;\n        background: url(${SharePic}) no-repeat;\n        background-size: 100% 100%;\n        display: inline-block;\n        margin-left: 20px;\n        position: relative;\n        top: 8px;\n      }\n    }\n  }\n`;\n\nexport const Line = styled.div`\n  width: 100%;\n  height: 2px;\n  background: #ffffff;\n  position: relative;\n\n  &.up {\n    &::before {\n      position: absolute;\n      width: 100%;\n      height: 1px;\n      background: rgba(255, 255, 255, 0.5);\n      content: \"\";\n      left: 0;\n      top: 10px;\n    }\n  }\n  &.down {\n    &::before {\n      position: absolute;\n      width: 100%;\n      height: 1px;\n      background: rgba(255, 255, 255, 0.5);\n      content: \"\";\n      left: 0;\n      top: -10px;\n    }\n  }\n`;\nexport const TitText = styled.div`\n  height: 52px;\n  font-size: 44px;\n  font-family: Poppins-SemiBold, Poppins;\n  font-weight: 600;\n  color: #ffffff;\n  line-height: 52px;\n`;\n\nexport const ItemsIntro = styled.div`\n  display: flex;\n  justify-content: space-between;\n  font-size: 16px;\n  font-family: Poppins;\n  line-height: 24px;\n  color: #ffffff;\n  .intro {\n    color: rgba(99, 107, 128, 1);\n  }\n  .chain {\n    text-transform: uppercase;\n  }\n`;\nexport const Executive = styled.div`\n  margin-top: 60px;\n  .con {\n    height: 411px;\n    margin-top: 28px;\n    border-top: 1px solid rgba(255, 255, 255, 0.08);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n    display: flex;\n\n    .left {\n      width: 525px;\n      padding: 47px 32px;\n      > div {\n        margin-bottom: 24px;\n      }\n    }\n    .right {\n      position: relative;\n      .show {\n        position: absolute;\n        position: absolute;\n        font-size: 16px;\n        left: 155px;\n        top: 40px;\n        color: rgba(99, 107, 128, 1);\n      }\n    }\n  }\n`;\n\nexport const Summary = styled.div`\n  margin-top: 70px;\n\n  .sumaryIntro {\n    color: #ffffff;\n    font-size: 16px;\n    font-family: Poppins;\n    color: #636b80;\n    line-height: 24px;\n    .head {\n      display: flex;\n      color: #636b80;\n      .id {\n        .tips {\n          display: inline-block;\n          margin-left: 5px;\n          width: 18px;\n          height: 18px;\n          /* border: 1px solid red; */\n          background: url(${icon}) no-repeat;\n          background-size: 100% 100%;\n          cursor: pointer;\n          position: relative;\n          .tipsCon {\n            span {\n              display: inline-block;\n              width: 15px;\n              height: 15px;\n              background: #242528;\n\n              position: absolute;\n              left: -8px;\n              top: 50px;\n\n              transform: rotate(45deg);\n            }\n            width: 100px;\n            height: 100px;\n            padding: 21px 10px 21px 24px;\n            width: 341px;\n            height: 116px;\n            font-size: 12px;\n            font-family: Poppins-Regular, Poppins;\n            font-weight: 400;\n            color: #636b80;\n            line-height: 24px;\n            position: absolute;\n            top: -47px;\n            left: 33px;\n            display: none;\n            background: #242528;\n            border-radius: 8px;\n          }\n          &:hover {\n            .tipsCon {\n              display: block;\n            }\n          }\n        }\n      }\n      .des {\n        i {\n          display: inline-block;\n          font-size: 12px;\n          font-family: PingFangSC-Regular, PingFang SC;\n          font-weight: 400;\n          color: #3772ff;\n          line-height: 24px;\n        }\n      }\n    }\n    .sumaryCon {\n      padding-top: 24px;\n      .items {\n        display: flex;\n        font-size: 16px;\n        font-family: Poppins-Medium, Poppins;\n        font-weight: 500;\n        color: #ffffff;\n        margin-bottom: 18px;\n      }\n    }\n    .id {\n      width: 415px;\n      padding-left: 32px;\n    }\n    .des {\n      flex: 1;\n      i {\n        display: inline-block;\n      }\n      span {\n        position: relative;\n        cursor: pointer;\n        &::before {\n          position: absolute;\n          content: \"\";\n          width: 100%;\n          height: 1px;\n          border-bottom: 1px solid #fff;\n          bottom: 0;\n        }\n      }\n    }\n    .sev {\n      text-align: right;\n      padding-right: 32px;\n      width: 415px;\n    }\n    .empty {\n      margin-top: 50px;\n      text-align: center;\n      color: #fff;\n    }\n  }\n`;\nexport const ColorTexts = styled.span<{ type: string }>`\n  font-size: 16px;\n  border-radius: 8px;\n  font-family: Poppins-SemiBold, Poppins;\n  font-weight: 600;\n  color: ${({ type }) =>\n    type === \"High\"\n      ? \"rgba(225, 49, 48, 1)\"\n      : type === \"Medium\"\n      ? \"#FF761F\"\n      : \"#FFC92C\"};\n  background: ${({ type }) =>\n    type === \"High\"\n      ? \"rgba(225, 49, 48, .2)\"\n      : type === \"Medium\"\n      ? \"rgba(255, 118, 31, .2)\"\n      : \"rgba(255, 201, 44, .2)\"};\n  padding: 4px 16px;\n`;\nexport const Colorsecurity = styled.span<{ type: number }>`\n color: ${({ type }) =>\n    type >= 10\n      ? \"#E13131\"\n      : type <10 && type >0\n      ? \"#FFC32B\"\n      : \"#20DDB5\"};\n`;\n\nexport const Findings = styled.div`\n  margin-top: 150px;\n  .introText {\n    width: 100%;\n    height: 180px;\n    border-radius: 16px;\n    margin: 50px 0 0;\n    background: url(${introBg}) 100% 100% no-repeat;\n    padding: 50px 32px 0;\n    font-size: 16px;\n    font-family: Poppins-SemiBold, Poppins;\n    font-weight: 600;\n    color: #ffffff;\n    line-height: 28px;\n  }\n  .findCon {\n    margin-top: 48px;\n    border-top: 1px solid rgba(255, 255, 255, 0.08);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n    .fingItems {\n      padding: 60px 0 0 0;\n      .title {\n        display: flex;\n        justify-content: space-between;\n        font-size: 24px;\n        font-family: Poppins-SemiBold, Poppins;\n        font-weight: 600;\n        color: #ffffff;\n        line-height: 32px;\n        .right {\n          color: rgba(255, 255, 255, 0.5);\n        }\n      }\n      .button {\n        text-align: right;\n        margin: 22px 0 38px;\n      }\n      .con {\n        width: 100%;\n        padding: 48px 32px;\n        height: auto;\n        background: url(${findBg}) repeat;\n        border-radius: 16px;\n        .green {\n          color: #3772ff;\n        }\n        > div {\n          font-size: 16px;\n          font-family: Poppins-Regular, Poppins;\n          font-weight: 400;\n          color: #ffffff;\n          line-height: 28px;\n        }\n      }\n    }\n    .empty {\n      margin: 50px 0;\n      text-align: center;\n      color: #fff;\n      font-size: 16px;\n      font-family: Poppins;\n      font-weight: 400;\n    }\n  }\n`;\n\nexport const Disclaimer = styled.div`\n  margin-top: 100px;\n  height: 502px;\n  background: url(${disBg});\n  background-size: 100% 502px;\n  background-repeat: no-repeat;\n  .container {\n    width: 1294px;\n    margin: 0 auto;\n    padding-top: 10px;\n    .tit {\n      font-size: 44px;\n      font-family: Poppins-SemiBold, Poppins;\n      font-weight: 600;\n      color: #636b80;\n      line-height: 52px;\n      margin-bottom: 50px;\n    }\n    .text {\n      font-size: 16px;\n      font-family: Poppins-Regular, Poppins;\n      font-weight: 400;\n      color: #636b80;\n      line-height: 28px;\n    }\n  }\n`;\n","module.exports = __webpack_public_path__ + \"static/media/icon_green.4dddb1d5.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon_red.cace5788.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon_yellow.4155909b.svg\";","import { useMemo } from 'react'\n\nimport { useTokenContract } from '../hooks/useContract'\nimport { useSingleCallResult } from '../state/multicall/hooks'\nimport { TokenAmount } from '../constants/token/fractions'\nimport { Token } from '../constants/token'\n\nexport function useTokenAllowance(token?: Token, owner?: string, spender?: string): TokenAmount | undefined {\n  const contract = useTokenContract(token?.address, false)\n\n  const inputs = useMemo(() => [owner, spender], [owner, spender])\n  const allowance = useSingleCallResult(contract, 'allowance', inputs).result\n\n  return useMemo(() => (token && allowance ? new TokenAmount(token, allowance.toString()) : undefined), [\n    token,\n    allowance\n  ])\n}\n","import { MaxUint256 } from '@ethersproject/constants'\nimport { TransactionResponse } from '@ethersproject/providers'\nimport { useCallback, useMemo } from 'react'\nimport { useTokenAllowance } from '../data/Allowances'\nimport { useTransactionAdder, useHasPendingApproval } from '../state/transactions/hooks'\nimport { calculateGasMargin } from '../utils'\nimport { useTokenContract } from './useContract'\nimport { useActiveWeb3React } from './index'\nimport { CurrencyAmount, TokenAmount } from '../constants/token/fractions'\nimport { ETHER } from '../constants/token'\n\nexport enum ApprovalState {\n  UNKNOWN,\n  NOT_APPROVED,\n  PENDING,\n  APPROVED\n}\n\n// returns a variable indicating the state of the approval and a function which approves if necessary or early returns\nexport function useApproveCallback(\n  amountToApprove?: CurrencyAmount,\n  spender?: string\n): [ApprovalState,() => Promise<void>] {\n  \n  const { account } = useActiveWeb3React()\n  const token = amountToApprove instanceof TokenAmount ? amountToApprove.token : undefined\n  const currentAllowance = useTokenAllowance(token, account ?? undefined, spender)\n  const pendingApproval = useHasPendingApproval(token?.address, spender)\n  // check the current approval status\n  const approvalState: ApprovalState = useMemo(() => {\n    if (!amountToApprove || !spender) return ApprovalState.UNKNOWN\n    if (amountToApprove.currency === ETHER) return ApprovalState.APPROVED\n    // we might not have enough data to know whether or not we need to approve\n    if (!currentAllowance) return ApprovalState.UNKNOWN\n\n    // amountToApprove will be defined if currentAllowance is\n    return currentAllowance.lessThan(amountToApprove)\n      ? pendingApproval\n        ? ApprovalState.PENDING\n        : ApprovalState.NOT_APPROVED\n      : ApprovalState.APPROVED\n  }, [amountToApprove, currentAllowance, pendingApproval, spender])\n\n  const tokenContract = useTokenContract(token?.address)\n  const addTransaction = useTransactionAdder()\n\n  const approve = useCallback(async (): Promise<void> => {\n    if (approvalState !== ApprovalState.NOT_APPROVED) {\n      console.error('approve was called unnecessarily')\n      return\n    }\n    if (!token) {\n      console.error('no token')\n      return\n    }\n\n    if (!tokenContract) {\n      console.error('tokenContract is null')\n      return\n    }\n\n    if (!amountToApprove) {\n      console.error('missing amount to approve')\n      return\n    }\n\n    if (!spender) {\n      console.error('no spender')\n      return\n    }\n\n    let useExact = false\n    const estimatedGas = await tokenContract.estimateGas.approve(spender, MaxUint256).catch(() => {\n      // general fallback for tokens who restrict approval amounts\n      useExact = true\n      return tokenContract.estimateGas.approve(spender, amountToApprove.raw.toString())\n    })\n\n    return tokenContract\n      .approve(spender, useExact ? amountToApprove.raw.toString() : MaxUint256, {\n        gasLimit: calculateGasMargin(estimatedGas)\n      })\n      .then((response: TransactionResponse) => {\n        addTransaction(response, {\n          summary: 'Approve ' + amountToApprove.currency.symbol,\n          approval: { tokenAddress: token.address, spender: spender }\n        })\n      })\n      .catch((error: Error) => {\n        console.debug('Failed to approve token', error)\n        throw error\n      })\n  }, [approvalState, token, tokenContract, amountToApprove, spender, addTransaction])\n\n  return [approvalState ,approve]\n}\n","import React from 'react'\nimport { useActiveWeb3React } from '../../hooks'\n// import {  ColumnCenter } from '../Column'\nimport styled from 'styled-components'\n// import { ReactComponent as CheckCircle } from '../../assets/svg/transaction_submitted.svg'\n// import { ReactComponent as CrossCircle } from '../../assets/svg/transaction_error.svg'\n// import successImg from '../../assets/img/circle.png'\nimport { getEtherscanLink } from '../../utils'\nimport { ExternalLink } from '../../theme/components'\n// import { ButtonPrimary } from 'components/Button'\n\nconst ConfirmOrLoadingWrapper = styled.div`\n  width: 100%;\n  padding: 40px;\n  background: #22262f;\n  border-radius: 16px;\n  backdrop-filter: blur(29px);\n  .content {\n    div:nth-child(1){\n      font-size:24px;\n      color:#fff;\n    }\n  }\n  .text {\n    font-size: 16px;\n    font-family: Poppins-Regular, Poppins;\n    font-weight: 400;\n    color: #ffffff;\n    line-height: 22px;\n    padding-top: 16px;\n    text-align: center;\n  }\n  .bscText {\n    font-size: 14px;\n    font-family: Poppins-Regular, Poppins;\n    font-weight: 400;\n    color: #ffffff;\n    line-height: 22px;\n    padding: 24px 10px 0px 10px;\n    text-align: center;\n    a {\n      color: #ffffff;\n    }\n  }\n  .ok {\n    width: 146px;\n    height: 40px;\n    border-radius: 8px;\n    border: 1px solid #353945;\n    margin: 32px auto 0;\n    text-align: center;\n    line-height: 40px;\n    font-size: 14px;\n    font-family: Poppins-SemiBold, Poppins;\n    font-weight: 600;\n    color: #ffffff;\n    cursor: pointer;\n    &:hover {\n      background: #fff;\n      border: none;\n      color: #000;\n    }\n  }\n`\n\n// const ConfirmedIcon = styled(ColumnCenter)`\n//   padding: 0 0 28px;\n// `\n\nexport function LoadingView({ children, onDismiss }: { children: any; onDismiss: () => void }) {\n  return (\n    <ConfirmOrLoadingWrapper>\n      {/* <RowBetween>\n        <div />\n        <CloseIcon onClick={onDismiss} />\n      </RowBetween> */}\n      {/* <ConfirmedIcon>\n        <CustomLightSpinner src={Circle} alt=\"loader\" size={'45px'} />\n      </ConfirmedIcon> */}\n      <div className=\"content\">\n        {children}\n        <div className=\"text\">Confirm this transaction in your wallet</div>\n      </div>\n    </ConfirmOrLoadingWrapper>\n  )\n}\n\nexport function SubmittedView({\n  children,\n  onDismiss,\n  hash,\n  hideLink,\n  isError\n}: {\n  children: any\n  onDismiss: () => void\n  hash: string | undefined\n  hideLink?: boolean\n  isError?: boolean\n}) {\n  const { chainId } = useActiveWeb3React()\n\n  return (\n    <ConfirmOrLoadingWrapper>\n      {children}\n      <div className=\"bscText\">\n        Transaction has been submitted, please &nbsp;\n        {!hideLink && !isError && chainId && hash && (\n          <ExternalLink href={getEtherscanLink(chainId, hash, 'transaction')}>check on BSCscan</ExternalLink>\n        )}\n      </div>\n      <div className=\"ok\" onClick={onDismiss}>\n        OK\n      </div>\n      {/* <ConfirmedIcon>\n        {isError ? <CrossCircle /> : <img src={successImg} alt='adf' style={{ width: '32px', height: '32px' }} />}\n      </ConfirmedIcon>\n      <AutoColumn gap=\"32px\" justify={'center'}>\n        {children}\n        {!hideLink && !isError && chainId && hash && (\n          <ExternalLink href={getEtherscanLink(chainId, hash, 'transaction')} style={{ color: theme.primary1, marginTop: '-20px' }} >\n            <TYPE.main fontWeight={400} fontSize={14} color={theme.primary1}>\n              View on BSCscan\n            </TYPE.main>\n          </ExternalLink>\n        )}\n        <ButtonPrimary onClick={onDismiss} style={{ marginTop: '-10px', borderRadius: '16px', border: '1px solid rgba(255 , 255, 255,0.12)', width: '85px', background: '#151C2E' }}>\n          <TYPE.main fontWeight={500} fontSize={16} color={theme.text55} >\n            Close\n          </TYPE.main>\n        </ButtonPrimary>\n      </AutoColumn> */}\n    </ConfirmOrLoadingWrapper>\n  )\n}\n","import { MaxUint256 } from \"@ethersproject/constants\";\nimport { TransactionResponse } from \"@ethersproject/providers\";\nimport { useCallback, useMemo } from \"react\";\nimport { useTokenAllowance } from \"../data/Allowances\";\nimport {\n  useTransactionAdder,\n  // useHasPendingApproval,\n} from \"../state/transactions/hooks\";\nimport { calculateGasMargin } from \"../utils\";\nimport { useTokenContract } from \"./useContract\";\nimport { useActiveWeb3React } from \"./index\";\nimport { CurrencyAmount, TokenAmount } from \"../constants/token/fractions\";\nimport { ETHER } from \"../constants/token\";\n\nexport enum ApprovalState {\n  UNKNOWN,\n  NOT_APPROVED,\n  PENDING,\n  APPROVED,\n}\n\n// returns a variable indicating the state of the approval and a function which approves if necessary or early returns\nexport function useApproveCallback(\n  amountToApprove?: CurrencyAmount,\n  spender?: string\n): [ApprovalState, () => Promise<void>] {\n  const { account } = useActiveWeb3React();\n  const token =\n    amountToApprove instanceof TokenAmount ? amountToApprove.token : undefined;\n\n  const currentAllowance = useTokenAllowance(\n    token,\n    account ?? undefined,\n    spender\n  );\n  // const pendingApproval = useHasPendingApproval(token?.address, spender);\n  // check the current approval status\n  const approvalState: ApprovalState = useMemo(() => {\n    if (!amountToApprove || !spender) return ApprovalState.UNKNOWN;\n    if (amountToApprove.currency === ETHER) return ApprovalState.APPROVED;\n    // we might not have enough data to know whether or not we need to approve\n    if (!currentAllowance) return ApprovalState.UNKNOWN;\n\n    // amountToApprove will be defined if currentAllowance is\n   \n    return Number(currentAllowance.toExact())>0\n      ? ApprovalState.APPROVED : ApprovalState.NOT_APPROVED;\n  }, [amountToApprove, currentAllowance, spender]);\n\n  const tokenContract = useTokenContract(token?.address);\n  const addTransaction = useTransactionAdder();\n\n  const approve = useCallback(\n    async (): Promise<void> => {\n\n      if (!token) {\n        console.error(\"no token\");\n        return;\n      }\n\n      if (!tokenContract) {\n        console.error(\"tokenContract is null\");\n        return;\n      }\n\n      if (!amountToApprove) {\n        console.error(\"missing amount to approve\");\n        return;\n      }\n\n      if (!spender) {\n        console.error(\"no spender\");\n        return;\n      }\n      // eslint-disable-next-line\n      let useExact = false;\n      const estimatedGas = await tokenContract.estimateGas\n        .approve(spender, MaxUint256)\n        .catch(() => {\n          // general fallback for tokens who restrict approval amounts\n          useExact = true;\n          return tokenContract.estimateGas.approve(spender, 0);\n        });\n\n      return tokenContract\n        .approve(spender, 0, {\n          gasLimit: calculateGasMargin(estimatedGas),\n        })\n        .then((response: TransactionResponse) => {\n          addTransaction(response, {\n            summary: \"unApprove \" + amountToApprove.currency.symbol,\n            approval: { tokenAddress: token.address, spender: spender },\n          });\n          return response\n        })\n        .catch((error: Error) => {\n          console.debug(\"Failed to unapprove token\", error);\n          throw error;\n        });\n    },\n    [\n      // approvalState,\n      token,\n      tokenContract,\n      amountToApprove,\n      spender,\n      addTransaction,\n    ]\n  );\n\n  return [approvalState, approve];\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport PcModal from '../Modal/PcModal'\n// import { Text } from 'rebass'\nimport { CloseIcon } from '../../theme'\nimport { RowBetween } from '../Row'\nimport { AutoColumn } from '../Column'\nimport { useActiveWeb3React } from '../../hooks'\nimport { LoadingView, SubmittedView } from '../../components/ModalViews'\nimport { ChainId } from '../../constants/chain'\nimport Loader from '../../components/Loader'\n\nconst Wrapper = styled.div`\n  width: 384px;\n  min-height: 252px;\n  background: #22262f;\n  border-radius: 16px;\n  backdrop-filter: blur(29px);\n  padding: 40px 70px;\n  .title {\n    font-size: 24px;\n    font-family: Poppins-SemiBold, Poppins;\n    font-weight: 600;\n    color: #ffffff;\n    line-height: 32px;\n    text-align: center;\n  }\n  .text {\n    padding-top: 24px;\n    font-size: 14px;\n    font-family: Poppins-Regular, Poppins;\n    font-weight: 400;\n    color: #ffffff;\n    line-height: 22px;\n    text-align: center;\n  }\n`\nconst Section = styled(AutoColumn)`\n  padding: 24px;\n`\n\nconst BottomSection = styled(Section)`\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n  padding: 0 3rem 2rem;\n`\nconst CloseBtn = styled.div`\n  width: 146px;\n  height: 40px;\n  border-radius: 8px;\n  border: 1px solid #353945;\n  font-size: 14px;\n  font-family: Poppins-SemiBold, Poppins;\n  font-weight: 600;\n  color: #ffffff;\n  text-align: center;\n  line-height: 40px;\n  margin: 32px auto 0;\n  cursor: pointer;\n  &:hover {\n    border: none;\n    background: #fff;\n    color: #000;\n  }\n`\n\nconst TitleText = styled.div<{ font?: number }>`\n  height: 32px;\n  font-size: 24px;\n  font-family: Poppins-SemiBold, Poppins;\n  font-weight: 600;\n  color: #ffffff;\n  line-height: 32px;\n  text-align: center;\n`\nconst TitleText1 = styled.div<{ font?: number }>`\n  font-size: 14px;\n    font-family: Poppins-Regular,Poppins;\n    font-weight: 400;\n    color: #ffffff;\n    line-height: 22px;\n    padding: 24px 10px 0px 10px;\n    text-align: center;\n`\n\nconst Close = styled(CloseIcon)`\n  color: ${({ theme }) => theme.text2};\n`\nfunction ConfirmationPendingContent({ onDismiss, pendingText = '' }: { onDismiss: () => void; pendingText: string }) {\n  return (\n    <>\n      <LoadingView onDismiss={onDismiss}>\n        <Loader />\n      </LoadingView>\n    </>\n  )\n}\n\nfunction TransactionSubmittedContent({\n  onDismiss,\n  chainId,\n  hash,\n  type\n}: {\n  onDismiss: () => void\n  hash: string | undefined\n  chainId: ChainId\n  type?:string\n}) {\n  return (\n    <>\n      <SubmittedView onDismiss={onDismiss} hash={hash}>\n        <TitleText>submitted</TitleText>\n        {\n          type==='token'&& <TitleText1 >The GEON you converted will be issued to your address after the end of this round</TitleText1>\n        }\n      </SubmittedView>\n    </>\n  )\n}\n\nexport function ConfirmationModalContent({\n  title,\n  bottomContent,\n  onDismiss,\n  topContent\n}: {\n  title: string\n  onDismiss: () => void\n  topContent: () => React.ReactNode\n  bottomContent: () => React.ReactNode\n}) {\n  return (\n    <Wrapper>\n      <Section>\n        <RowBetween>\n          <div></div>\n          <TitleText font={18}>{title}</TitleText>\n          <Close onClick={onDismiss} />\n        </RowBetween>\n        {topContent()}\n      </Section>\n      <BottomSection gap=\"8px\">{bottomContent()}</BottomSection>\n    </Wrapper>\n  )\n}\n\nexport function TransactionErrorContent({\n  message,\n  onDismiss,\n  title\n}: {\n  message: string\n  onDismiss: () => void\n  title?: string\n}) {\n  return (\n    <Wrapper>\n      <div className=\"title\">{title || 'Prompt information'}</div>\n      <div className=\"text\">{message}</div>\n      <CloseBtn onClick={onDismiss}>OK</CloseBtn>\n      \n    </Wrapper>\n  )\n}\n\ninterface ConfirmationModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  hash: string | undefined\n  content?: () => React.ReactNode\n  attemptingTxn: boolean\n  pendingText?: string\n  submittedContent?: () => React.ReactNode\n}\n\nexport default function TransactionConfirmationModal({\n  isOpen,\n  onDismiss,\n  attemptingTxn,\n  hash,\n  pendingText,\n  content,\n  error,\n  errorMsg,\n  type,\n  submittedContent\n}: ConfirmationModalProps & { error?: boolean; errorMsg?: string;type?:string }) {\n  const { chainId } = useActiveWeb3React()\n\n  if (!chainId) return null\n\n  // confirmation screen\n  return (\n    <PcModal isOpen={isOpen} minWidth={384} maxWidth={384} onDismiss={onDismiss} minHeight={214}>\n      {attemptingTxn ? (\n        <ConfirmationPendingContent onDismiss={onDismiss} pendingText={pendingText || ''} />\n      ) : error ? (\n        <TransactionErrorContent\n          message={errorMsg ?? 'Failed!  Please try again.'}\n          onDismiss={onDismiss}\n        ></TransactionErrorContent>\n      ) : hash ? (\n        <>\n          <TransactionSubmittedContent chainId={chainId} hash={hash} onDismiss={onDismiss} type={type}/>\n\n          {/* {submittedContent ? (\n            submittedContent()\n          ) : (\n            <TransactionSubmittedContent chainId={chainId} hash={hash} onDismiss={onDismiss} />\n          )}{' '} */}\n        </>\n      ) : (\n        content && content()\n      )}\n    </PcModal>\n  )\n}\n","import React, { useState, useEffect } from \"react\";\n// import Right from \"../../../assets/images/contrastDetec/right@2x.png\";\nimport ethPic from \"../../../assets/images/contrastDetec/ethPic.png\";\nimport bscPic from \"../../../assets/images/contrastDetec/bscPic.png\";\nimport safe from \"../../../assets/images/safe.png\";\nimport danger from \"../../../assets/images/danger.png\";\nimport JSBI from \"jsbi\";\nimport { Token } from \"../../../constants/token\";\nimport { TokenAmount } from \"../../../constants/token\";\nimport { ApprovalState } from \"../../../hooks/useApproveCallback\";\nimport TransactionConfirmationModal from '../../../components/TransactionConfirmationModal'\n// import { useActiveWeb3React } from '../../../hooks'\n\nimport {\n  ListDom,\n  ItemDiv,\n  ItemheadDiv,\n  ColorInner,\n  ColorInner1,\n} from \"../styled\";\nimport { shortenAddress } from \"../../../utils/index\";\nimport { useApproveCallback } from \"../../../hooks/useCancleApprove\";\ninterface ERC20TYPE {\n  project: string;\n  contract: string;\n  chain: string;\n  token: string;\n  token_symbol: string;\n  balance: string;\n  approved_amount: string;\n  advice: number;\n  risk: number;\n  malicious_behavior: [string];\n}\n\nexport default function Listdom({ resultList }: { resultList: ERC20TYPE[] }) {\n  // const history = useHistory();\n  const [initLoad, setInitLoad] = useState(false);\n  // const [mathnum, setMathnum] = useState(1);\n  const [erc20address, setErc20address] = useState(\n    \"0xF43B79193c33dAc3530Db9307C54E4885df364de\"\n  );\n  const [erc20Token, setErc20Token] = useState(\"token\");\n  const [erc20contract, setErc20Contract] = useState(\n    \"0x2E8aF2195a6Da7Dd8b8E89173E258B91E9712433\"\n  );\n\n  const [transactionModalOpen, setTransactionModalOpen] = useState(false)\n  const [attemptingTxn, setAttemptingTxn] = useState(false)\n  const [hash, setHash] = useState('')\n  const [error, setError] = useState(false)\n  const [errorMsg, setErrorMsg] = useState('')\n  const transactionOnDismiss = () => {\n    setError(false)\n    setErrorMsg('')\n    setTransactionModalOpen(false)\n  }\n  const ERC20TokenAmount = new TokenAmount(\n    new Token(97, erc20address, 18, erc20Token, erc20Token),\n    JSBI.BigInt(\"0\")\n  );\n  // eslint-disable-next-line\n  const [triasApprovalState, triasApprovalCallback] = useApproveCallback(\n    ERC20TokenAmount,\n    erc20contract\n  );\n\n  const Revokefun = (params: any) => {\n    // setMathnum(Math.random());\n    setInitLoad(true);\n    setErc20address(params?.token_address);\n    setErc20Contract(params?.contract);\n    setErc20Token(params?.token);\n  };\n\n  useEffect(() => {\n    if (!initLoad) return;\n    if (triasApprovalState === ApprovalState.APPROVED) {\n      setTransactionModalOpen(true)\n      setAttemptingTxn(true)\n      triasApprovalCallback().then((res:any) => {\n        if(res?.hash){\n          setTransactionModalOpen(true)\n          setAttemptingTxn(false)\n          setHash(res?.hash)\n        }\n      }).catch(()=>{\n        setAttemptingTxn(false)\n        setError(true)\n        setErrorMsg('you are rejected')\n        console.error('you are rejected')\n      });\n    } else {\n      return;\n    }\n    // eslint-disable-next-line\n  }, [erc20address,erc20contract]);\n\n  return (\n    <ListDom>\n      <div className=\"listCom\">\n        <div className=\"headIntro\">\n          <ItemheadDiv\n            width=\"320px\"\n            type={1}\n            style={{\n              borderRadius: \"8px\",\n              paddingLeft: \"14px\",\n              marginRight: \"6px\",\n            }}\n          >\n            Approved Spender (Project/Contract）\n          </ItemheadDiv>\n          <ItemheadDiv width=\"74px\" type={3} className=\"leftborder\">\n            Chain\n          </ItemheadDiv>\n          <ItemheadDiv width=\"220px\" type={1}>\n            Token\n          </ItemheadDiv>\n          <ItemheadDiv width=\"141px\" type={2}>\n            Balance\n          </ItemheadDiv>\n          <ItemheadDiv width=\"160px\" type={2}>\n            Approved Amount\n          </ItemheadDiv>\n          <ItemheadDiv width=\"100px\" type={2}>\n            advice\n          </ItemheadDiv>\n          <ItemheadDiv width=\"200px\" type={2} style={{ paddingRight: \"14px\" }}>\n            opera\n          </ItemheadDiv>\n        </div>\n        <div className=\"container\">\n          {resultList.length !== 0 ? (\n            resultList.map((item, index) => {\n              return (\n                <div className=\"listItems\" key={index}>\n                  <ItemDiv width=\"326px\" type={1} className=\"fistinner\">\n                    <div className=\"address\">\n                      <div className=\"item\">\n                        <img src={item?.advice > 0 ? danger : safe} alt=\"\" />\n                      </div>\n                      {item?.project !== null ? (\n                        <div className=\"item\">\n                          <span>{item?.project}</span>\n                          <span>{shortenAddress(item?.contract)}</span>\n                        </div>\n                      ) : (\n                        <div className=\"item\">\n                          <p\n                            className=\"noproject\"\n                            style={{ lineHeight: \"60px\" }}\n                          >\n                            {shortenAddress(item?.contract)}\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                    {item?.malicious_behavior.length > 0 && (\n                      <div className=\"txt_tips\">\n                        <span></span>\n                        {item?.malicious_behavior[0]}\n                      </div>\n                    )}\n                  </ItemDiv>\n                  <div></div>\n                  <ItemDiv width=\"74px\" type={1}>\n                    <img\n                      src={item?.chain === \"56\" ? bscPic : ethPic}\n                      alt=\"\"\n                      className=\"chainImg\"\n                    />\n                  </ItemDiv>\n                  <ItemDiv width=\"220px\" type={1} className=\"chainText\">\n                    <span></span>\n                    <span>{item?.token} </span>\n                    <span>{item?.token_symbol}</span>\n                    {item?.token && (\n                      <div className=\"txt_tips\">\n                        <span></span>\n                        {item?.token}&nbsp;{item?.token_symbol}\n                      </div>\n                    )}\n                  </ItemDiv>\n                  <ItemDiv width=\"140px\" type={2} className=\"chainBalance\">\n                    <span className=\"itemstyle\">{item?.balance}</span>{\" \"}\n                    <span>{item?.token_symbol}</span>\n                    {item?.balance && (\n                      <div className=\"txt_tips\">\n                        <span></span>\n                        {item?.balance}&nbsp;&nbsp;{item?.token_symbol}\n                      </div>\n                    )}\n                  </ItemDiv>\n                  <ItemDiv width=\"160px\" type={2} className=\"chainApprove\">\n                    <ColorInner1\n                      type={item?.approved_amount}\n                      className=\"approve\"\n                    >\n                      {item?.approved_amount}\n                    </ColorInner1>\n                    {item?.approved_amount && (\n                      <div className=\"txt_tips\">\n                        <span></span>\n                        {item?.approved_amount}\n                      </div>\n                    )}\n                  </ItemDiv>\n                  <ItemDiv width=\"100px\" type={2}>\n                    <ColorInner type={item?.advice}>\n                      {item?.advice > 0 ? \"Revoke\" : \"Keep Vuke\"}\n                    </ColorInner>\n                  </ItemDiv>\n                  <ItemDiv width=\"202px\" type={2}>\n                    <div\n                      className=\"btn\"\n                      onClick={() => {\n                        Revokefun(item);\n                      }}\n                    >\n                      Revoke Access\n                    </div>\n                  </ItemDiv>\n                </div>\n              );\n            })\n          ) : (\n            <div className=\"empty\"> No Data ~</div>\n          )}\n        </div>\n      </div>\n\n      <TransactionConfirmationModal\n          isOpen={transactionModalOpen}\n          // eslint-disable-next-line @typescript-eslint/no-empty-function\n          onDismiss={transactionOnDismiss}\n          hash={hash}\n          attemptingTxn={attemptingTxn}\n          error={error}\n          errorMsg={errorMsg}\n        />\n    </ListDom>\n  );\n}\n","import { TransactionResponse } from '@ethersproject/providers'\nimport { useCallback, useMemo } from 'react'\nimport { useHasPendingApproval, useTransactionAdder } from '../state/transactions/hooks'\nimport { calculateGasMargin } from '../utils'\nimport { Contract } from '@ethersproject/contracts'\nimport { useSingleCallResult } from '../state/multicall/hooks'\nimport { ApprovalState } from './useApproveCallback'\nimport { useActiveWeb3React } from '.'\n\nfunction useGetApproved(contract: Contract | null, spender: string) {\n  const { account } = useActiveWeb3React()\n  const res = useSingleCallResult(account ? contract : null, 'isApprovedForAll', [account || '', spender])\n  return useMemo(() => {\n    if (res.loading || !res.result) return undefined\n    return res.result[0]\n  }, [res.loading, res.result])\n}\n\nexport function useERC721ApproveAllCallback(\n  contract: Contract | null,\n  spender: string\n): [ApprovalState, () => Promise<void>] {\n  // const { account } = useActiveWeb3React()\n  const isApproved = useGetApproved(contract, spender)\n  const pendingApproval = useHasPendingApproval(contract?.address, spender)\n  // check the current approval status\n  const approvalState: ApprovalState = useMemo(() => {\n    // if (!spender) return ApprovalState.UNKNOWN\n    // we might not have enough data to know whether or not we need to approve\n    if (isApproved) return ApprovalState.APPROVED\n    if (pendingApproval) return ApprovalState.PENDING\n    if (isApproved === undefined) return ApprovalState.UNKNOWN\n    return ApprovalState.NOT_APPROVED\n  }, [isApproved, pendingApproval])\n\n  const addTransaction = useTransactionAdder()\n\n  const approve = useCallback(async (): Promise<void> => {\n    // if (approvalState !== ApprovalState.NOT_APPROVED) {\n    //   console.error('approve was called unnecessarily')\n    //   return\n    // }\n\n    if (!contract) {\n      console.error('Contract is null')\n      return\n    }\n\n    if (!spender) {\n      console.error('no spender')\n      return\n    }\n\n    const estimatedGas = await contract.estimateGas.setApprovalForAll(spender, false).catch((error: Error) => {\n      console.debug('Failed to approve nft', error)\n      throw error\n    })\n\n    return contract\n      .setApprovalForAll(spender, false, {\n        gasLimit: calculateGasMargin(estimatedGas)\n      })\n      .then((response: TransactionResponse) => {\n        addTransaction(response, {\n          summary: 'UnApprove NFT',\n          approval: { tokenAddress: contract.address, spender }\n        })\n        return response\n      })\n      .catch((error: Error) => {\n        console.debug('Failed to approve nft', error)\n        throw error\n      })\n  }, [ contract, spender, addTransaction])\n\n  return [approvalState, approve]\n}\n","import React, { useEffect, useState } from \"react\";\nimport ethPic from \"../../../assets/images/contrastDetec/ethPic.png\";\nimport bscPic from \"../../../assets/images/contrastDetec/bscPic.png\";\nimport safe from \"../../../assets/images/safe.png\";\nimport danger from \"../../../assets/images/danger.png\";\nimport { ListDom, ItemDiv, ItemheadDiv, ColorInner } from \"../styled\";\nimport { shortenAddress } from \"../../../utils/index\";\nimport { useERC721ApproveAllCallback } from \"../../../hooks/useERC721ApproveAllCallback\";\nimport { useERC721Contract } from \"../../../hooks/useContract\";\nimport { ApprovalState } from \"../../../hooks/useApproveCallback\";\nimport TransactionConfirmationModal from \"../../../components/TransactionConfirmationModal\";\ninterface ERC721TYPE {\n  project: string;\n  contract: string;\n  chain: string;\n  nft_name: string;\n  nft_symbol: string;\n  balance: string;\n  approved_amount: number;\n  advice: number;\n  risk: number;\n  malicious_behavior: [string];\n}\n\nexport default function Listdom({ data }: { data: ERC721TYPE[] }) {\n  const [initLoad, setInitLoad] = useState(false);\n  // const [mathnum, setMathnum] = useState(1);\n  const [erc721address, setErc721address] = useState(\n    \"0x89ec61846E20e45A23CFC2a4000F4a74e406b52e\"\n  );\n  const [erc721contract, setErc721Contract] = useState(\n    \"0xF568dB7Fd1A4afd826A6500134aFB385D7562E8b\"\n  );\n  const [transactionModalOpen, setTransactionModalOpen] = useState(false);\n  const [attemptingTxn, setAttemptingTxn] = useState(false);\n  const [hash, setHash] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const transactionOnDismiss = () => {\n    setError(false);\n    setErrorMsg(\"\");\n    setTransactionModalOpen(false);\n  };\n\n  const Transaction721Contract = useERC721Contract(erc721address);\n  // eslint-disable-next-line\n  const [approvalState, approvalCallback] = useERC721ApproveAllCallback(\n    Transaction721Contract,\n    erc721contract\n  );\n  const OnRevoke = (params: any) => {\n    // setMathnum(Math.random());\n    setInitLoad(true);\n    setErc721address(params?.nft_address)\n    setErc721Contract(params?.contract)\n  };\n\n  useEffect(() => {\n    if (!initLoad) return;\n    if (approvalState === ApprovalState.APPROVED) {\n      setTransactionModalOpen(true);\n      setAttemptingTxn(true);\n      approvalCallback()\n        .then((res: any) => {\n          if (res?.hash) {\n            setTransactionModalOpen(true);\n            setAttemptingTxn(false);\n            setHash(res?.hash);\n          }\n        })\n        .catch(() => {\n          setAttemptingTxn(false);\n          setError(true);\n          setErrorMsg(\"auction commit err\");\n          console.error(\"auction commit err\");\n        });\n    } else {\n      return;\n    }\n    // eslint-disable-next-line\n  }, [erc721address,erc721contract]);\n\n  return (\n    <ListDom>\n      <div className=\"listCom\">\n        <div className=\"headIntro\">\n          <ItemheadDiv\n            width=\"325px\"\n            type={1}\n            style={{\n              borderRadius: \"8px\",\n              paddingLeft: \"14px\",\n              marginRight: \"6px\",\n            }}\n          >\n            Approved Spender (Project/Contract）\n          </ItemheadDiv>\n          <ItemheadDiv\n            width=\"120px\"\n            type={1}\n            style={{ paddingLeft: \"10px\" }}\n            className=\"leftborder\"\n          >\n            Chain\n          </ItemheadDiv>\n          <ItemheadDiv width=\"240px\" type={1}>\n            NFT\n          </ItemheadDiv>\n\n          <ItemheadDiv width=\"161px\" type={2}>\n            Approved Amount\n          </ItemheadDiv>\n          <ItemheadDiv width=\"120px\" type={2}>\n            advice\n          </ItemheadDiv>\n          <ItemheadDiv width=\"251px\" type={2} style={{ paddingRight: \"14px\" }}>\n            opera\n          </ItemheadDiv>\n        </div>\n        <div className=\"container\">\n          {data.length !== 0 ? (\n            data.map((item, index) => {\n              return (\n                <div className=\"listItems\" key={index}>\n                  <ItemDiv width=\"340px\" type={1} className=\"fistinner\">\n                    <div className=\"address\">\n                      <div className=\"item\">\n                        <img src={item?.advice > 0 ? danger : safe} alt=\"\" />\n                      </div>\n                      {item?.project !== null ? (\n                        <div className=\"item\">\n                          <span>{item?.project}</span>\n                          <span>{shortenAddress(item?.contract)}</span>\n                        </div>\n                      ) : (\n                        <div className=\"item\">\n                          <p\n                            className=\"noproject\"\n                            style={{ lineHeight: \"60px\" }}\n                          >\n                            {shortenAddress(item?.contract)}\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                    {item?.malicious_behavior.length > 0 && (\n                      <div className=\"txt_tips\">\n                        <span></span>\n                        {item?.malicious_behavior[0]}\n                      </div>\n                    )}\n                  </ItemDiv>\n                  <ItemDiv width=\"120px\" type={1}>\n                    <img\n                      src={item?.chain === \"56\" ? bscPic : ethPic}\n                      alt=\"\"\n                      className=\"chainImg\"\n                    />\n                  </ItemDiv>\n                  <ItemDiv width=\"240px\" type={1} className=\"chainText\">\n                    <span></span>\n                    <span>{item?.nft_name} </span>\n                    <span>{item?.nft_symbol}</span>\n                    {item?.nft_name && (\n                      <div className=\"txt_tips\">\n                        <span></span>\n                        {item?.nft_name} &nbsp;&nbsp;\n                        {item?.nft_symbol}\n                      </div>\n                    )}\n                  </ItemDiv>\n                  <ItemDiv width=\"161px\" type={2}>\n                    <ColorInner type={item?.approved_amount}>\n                      {item?.approved_amount === 0 ? \"single\" : \"approval all\"}\n                    </ColorInner>\n                  </ItemDiv>\n                  <ItemDiv width=\"120px\" type={2}>\n                    <ColorInner type={item?.advice}>\n                      {item?.advice > 0 ? \"Revoke\" : \"Keep Vuke\"}\n                    </ColorInner>\n                  </ItemDiv>\n                  <ItemDiv width=\"251px\" type={2}>\n                    <div\n                      className=\"btn1\"\n                      onClick={() => {\n                        OnRevoke(item);\n                      }}\n                    >\n                      Revoke Access\n                    </div>\n                  </ItemDiv>\n                </div>\n              );\n            })\n          ) : (\n            <div className=\"empty\"> No Data ~</div>\n          )}\n        </div>\n      </div>\n      <TransactionConfirmationModal\n        isOpen={transactionModalOpen}\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        onDismiss={transactionOnDismiss}\n        hash={hash}\n        attemptingTxn={attemptingTxn}\n        error={error}\n        errorMsg={errorMsg}\n      />\n    </ListDom>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { HistoryContainer, HistoryDom } from \"../styled\";\nimport { Colorsecurity } from \"../stylePro\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport Erc20Listdom from \"../component/Erc20List\";\nimport Erc721Listdom from \"../component/Erc721List\";\nimport Icon_green from \"../../../assets/svg/icon_green.svg\";\nimport Icon_red from \"../../../assets/svg/icon_red.svg\";\nimport Icon_yellow from \"../../../assets/svg/icon_yellow.svg\";\nimport { Tabs } from \"antd\";\nconst { TabPane } = Tabs;\n\ninterface ResultList {\n  id: number;\n  file_name: string;\n  contract_address: string;\n  network: string;\n  score?: any;\n  project: string;\n  contract: string;\n  chain: string;\n  token: string;\n  token_symbol: string;\n  balance: string;\n  approved_amount: any;\n  advice: number;\n  risk: number;\n  malicious_behavior: [string];\n  nft_name: string;\n  nft_symbol: string;\n}\nconst showsecurity = [\n  \"currently no security risks\",\n  \"Some security risks\",\n  \"significant security risks\",\n];\n\n// const ShowText = [\n//   \"Significant Risk\",\n//   \"High Risk\",\n//   \"Medium Risk\",\n//   \"Some Risk\",\n//   \"Excellent\",\n// ];\nexport default function ContractDetectionHistory(): JSX.Element {\n  const TotalTest: any = Number(localStorage.getItem(\"totalNum\"));\n  const ErcData: any = JSON.parse(localStorage.getItem(\"ercData\") || \"\");\n  const NftData: any = JSON.parse(localStorage.getItem(\"nftData\") || \"\");\n  const [erc20resultList, setErc20resultList] = useState([] as ResultList[]);\n  const [nftresultList, setNftresultList] = useState([] as ResultList[]);\n  const { account } = useWeb3React();\n  const history = useHistory();\n\n  useEffect(() => {\n    const addressString = window.location.href;\n\n    if (\n      addressString.substring(addressString.lastIndexOf(\"/\") + 1) !== account ||\n      !account\n    ) {\n      history.push(\"/home\");\n    }\n\n    //滑倒顶部\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\",\n    });\n\n    setErc20resultList(ErcData?.result || []);\n    setNftresultList(NftData?.result || []);\n    // eslint-disable-next-line\n  }, [account]);\n  // eslint-disable-next-line\n\n  return (\n    <HistoryContainer>\n      <HistoryDom>\n        <div className=\"title\">Triathon </div>\n        <div className=\"title\">Address Security Report</div>\n        <div className=\"addresscon\">\n          <p>\n            <Colorsecurity type={TotalTest}>\n              {TotalTest >= Number(10) && showsecurity[2]}\n              {TotalTest < Number(10) &&\n                TotalTest > Number(0) &&\n                showsecurity[1]}\n              {TotalTest === Number(0) && showsecurity[0]}\n            </Colorsecurity>\n          </p>\n          <p>\n            Your address: <span>{account}</span>\n          </p>\n          <span className=\"logo\">\n            <embed\n              src={\n                TotalTest >= Number(10)\n                  ? Icon_red\n                  : TotalTest === Number(0)\n                  ? Icon_green\n                  : Icon_yellow\n              }\n              type=\"image/svg+xml\"\n            />\n          </span>\n        </div>\n        <div className=\"datacon\">\n          <h4>Following are the security recommendations</h4>\n          {TotalTest === Number(0) && (\n            <h6>\n              but there are too few interaction records. It is recommended to\n              perform regular checks.\n            </h6>\n          )}\n          <div className=\"showcard\">\n            <div className=\"item\">\n              <h3>\n                <Colorsecurity type={TotalTest}>{TotalTest}</Colorsecurity>\n              </h3>\n              <p>Approval security risks</p>\n            </div>\n            <div className=\"item\" style={{ margin: \"0 33px\" }}>\n              <h3>COMING SOON</h3>\n              <p>Interactive security risks</p>\n            </div>\n            <div className=\"item\">\n              <h3>COMING SOON</h3>\n              <p>Asset security</p>\n            </div>\n          </div>\n          <Tabs defaultActiveKey=\"1\">\n            <TabPane tab=\"ERC - 20\" key=\"2\">\n              <Erc20Listdom resultList={erc20resultList}></Erc20Listdom>\n            </TabPane>\n            <TabPane tab=\"ERC - 721\" key=\"3\">\n              <Erc721Listdom data={nftresultList}></Erc721Listdom>\n            </TabPane>\n          </Tabs>\n        </div>\n        <div className=\"subscribe\">\n          <div className=\"left\">\n            <h3>Security subscribe service</h3>\n            <p>push address security risk to you in time</p>\n          </div>\n          <div className=\"right\">\n            <span>Coming Soon</span>\n          </div>\n        </div>\n      </HistoryDom>\n    </HistoryContainer>\n  );\n}\n"],"sourceRoot":""}