(this["webpackJsonpcore-frontsite"]=this["webpackJsonpcore-frontsite"]||[]).push([[13],{488:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n,c=a(0),r=a.n(c),s=a(368),o=a(334),i=a.n(o);a(566),a(567),a(568),a(569),a(570),a(489),a(571),a(572),a(573),a(574),a(575),a(576),a(577),a(578),a(579),a(580),a(581),a(582),a(583),a(584);function l(e){var t=e.value;return Object(c.useEffect)((function(){var e=document.getElementById("code");(n=i.a.fromTextArea(e,{theme:"panda-syntax",lineNumbers:!0,firstLineNumber:1,lineWrapping:!0,scrollbarStyle:null,tabSize:2,smartIndent:!0,indentUnit:2,indentWithTabs:!0,autofocus:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],foldGutter:!0,mode:"python",styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,hintOptions:{completeSingle:!1},readOnly:!0})).setOption("value",'print("hello word")'),n.on("keypress",(function(){n.showHint()})),""!==t&&n.setOption("value",t)}),[t]),r.a.createElement(s.r,null,r.a.createElement("textarea",{id:"code",name:"code"}," "))}},750:function(e,t,a){},849:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(31),c=a(45),r=a(0),s=a.n(r),o=a(207),i=a.n(o),l=a(206),u=a.n(l),d=a(166),m=a(368);function f(e){var t=e.isOpen,a=e.onDismiss,n=e.errorMsg;return s.a.createElement(d.a,{isOpen:t,minWidth:384,maxWidth:384,onDismiss:a,minHeight:214},s.a.createElement(m.d,null,s.a.createElement("div",{className:"notice"},"Notice"),s.a.createElement("div",{className:"info"},n),s.a.createElement("div",{className:"button",onClick:function(){a()}},"OK")))}a(750);var v=a(25),b=a(54),p=a(488),E=a(847),O=a(36),h=a(443),g=a(170),j=a(75),S=(a(219),["value","onUserInput","placeholder","ShowRed"]),C=E.a.Option,N=RegExp(/^[a-zA-Z\d]+$/),w=RegExp(/^0x[a-fA-F0-9]{40}$/);function I(e){var t=e.value,a=e.onUserInput,n=e.placeholder,r=e.ShowRed,o=Object(c.a)(e,S);return s.a.createElement(m.t,Object.assign({},o,{value:t,onChange:function(e){return t=e.target.value,void(!N.test(t)&&t||a(t));var t},autoComplete:"off",autoCorrect:"off",type:"text",ShowRed:r,placeholder:n||""}))}var T=Object(j.a)("REACT_APP_DEV_REQUEST_URL");function k(){var e=Object(v.a)().account,t=Object(b.d)(),a=Object(O.f)(),c=Object(r.useState)(0),o=Object(n.a)(c,2),l=o[0],d=o[1],j=Object(r.useState)(""),S=Object(n.a)(j,2),N=S[0],k=S[1],x=Object(r.useState)(""),y=Object(n.a)(x,2),D=y[0],R=y[1],A=Object(r.useState)(!1),M=Object(n.a)(A,2),U=M[0],_=M[1],B=Object(r.useState)("bsc"),F=Object(n.a)(B,2),H=F[0],W=F[1],q=Object(r.useState)(""),J=Object(n.a)(q,2),L=J[0],P=J[1],z=Object(r.useState)(!1),V=Object(n.a)(z,2),$=V[0],G=V[1],K=Object(r.useState)(""),Q=Object(n.a)(K,2),X=Q[0],Z=Q[1],Y=Object(r.useState)(!1),ee=Object(n.a)(Y,2),te=ee[0],ae=ee[1],ne=Object(r.useState)(""),ce=Object(n.a)(ne,2),re=ce[0],se=ce[1],oe=Object(r.useState)(0),ie=Object(n.a)(oe,2),le=ie[0],ue=ie[1],de=Object(r.useState)(!1),me=Object(n.a)(de,2),fe=me[0],ve=me[1];var be=Object(r.useCallback)((function(){w.test(N)?(P(""),Oe()):P("Notice\uff1aAddress is validated incorrectly")}),[N,a]),pe=Object(r.useMemo)((function(){var a={text:"Start detection",event:function(){return{}},disabled:!0};return e?te?(a.text=s.a.createElement(s.a.Fragment,null,s.a.createElement(g.b,null),"Detecting",s.a.createElement(g.a,null)),a):{text:"Start detection",event:function(){0===l?be():function(){var e=re||localStorage.getItem("CurrentTestId");e&&Ee(e)}()},disabled:!1}:(a.text="Connect Wallet",a.disabled=!1,a.event=function(){t()},a)}),[e,t,be,l,te]),Ee=function e(t){Object(h.e)({id:re||t}).then((function(n){var c=n.code,r=n.data,s=n.msg;if(200===c)if("{}"===JSON.stringify(r))ae(!0),setTimeout((function(){e(re||t)}),3e3);else{ve(!1),ae(!1);var o=re||localStorage.getItem("CurrentTestId");a.push("/contract_detection/".concat(o))}else G(!0),Z(s)}))},Oe=function(){e&&Object(h.f)({addr:e}).then((function(e){var t=e.data.status,a=e.msg;if(2===t&&(G(!0),Z(a)),1===t){ve(!0);var n=localStorage.getItem("CurrentTestId");Ee(n)}0===t&&w.test(N)&&function(){var e={address:N,network:H};Object(h.a)(e).then((function(e){var t=e.code,a=e.data,n=e.msg;if(30001===t&&(G(!0),Z(n)),500===t&&(G(!0),Z("The service is busy, please try again")),200===t){var c=a.id;se(c),localStorage.setItem("CurrentTestId",c),ae(!0),Ee(c)}}))}()}))};return Object(r.useEffect)((function(){localStorage.setItem("chain","bsc"),e&&Object(h.g)({address:e}).then((function(t){var a={nonce:t.data.nonce,address:e};Object(h.h)(a).then((function(e){var t=e.data.token;window.sessionStorage.setItem("token","Bearer "+t)}))})),Object(h.d)().then((function(e){e.data&&ue(e.data)})),Oe()}),[]),s.a.createElement(m.b,{className:"ContractDetection"},s.a.createElement("div",{className:"container"},s.a.createElement(m.u,{className:"ContracDec"},s.a.createElement("div",{className:"title"},"Triathon Contract Detection"),s.a.createElement("div",{className:"tabs"},s.a.createElement("span",{className:0===l?"active tab1":"tab1",onClick:function(){return d(0)}},"Detect with address"),s.a.createElement("span",{className:1===l?"active tab2":"tab2",onClick:function(){return d(1)}},"Detect with file")),fe?s.a.createElement(m.o,null,s.a.createElement("div",{className:"loading"}),s.a.createElement("div",{className:"text"},"Detecting\u2026")):0===l?s.a.createElement("div",{className:"addreccCon"},s.a.createElement("div",{className:"select"},s.a.createElement(E.a,{defaultValue:"bsc",onChange:function(e){W(e),localStorage.setItem("chain",e)},dropdownClassName:"dropCon",showArrow:!0},s.a.createElement(C,{value:"bsc"},"  ",s.a.createElement("img",{src:u.a,alt:""})," BSC"),s.a.createElement(C,{value:"eth"},"  ",s.a.createElement("img",{src:i.a,alt:""})," ETH"))),s.a.createElement("div",{className:"inputCon"},s.a.createElement(I,{value:N,onUserInput:function(e){return k(e)},placeholder:"Please enter the contact address",ShowRed:""===L||""===N})),s.a.createElement("div",{className:"err"},L)):s.a.createElement("div",{className:"fileCon"},U?s.a.createElement(m.e,null,""!==D&&s.a.createElement(p.a,{value:D})):s.a.createElement("div",{className:"uploadBefore"},s.a.createElement(m.s,null,s.a.createElement("span",null),"Upload file (.sol)",s.a.createElement("input",{type:"file",id:"file-input",accept:".sol",onChange:function(e){var t=e.target.files[0];if(t){var a=new FormData;a.set("file",t),a.set("main_file",t.name);var n=new XMLHttpRequest;n.open("POST",T+"upload/",!0),n.setRequestHeader("Authorization",window.sessionStorage.getItem("token")||""),n.send(a),n.onload=function(e){var t=JSON.parse(n.responseText),a=t.code,c=t.data,r=t.msg;30001===a&&(G(!0),Z(r)),500===a&&(G(!0),Z("The service is busy, please try again")),200===a&&(2===c.status&&(G(!0),Z(r)),c.id&&(se(c.id),localStorage.setItem("CurrentTestId",c.id)))};var c=new FileReader;c.onload=function(e){var t=e.target.result;R(t),_(!0)},c.readAsText(t,"utf-8")}}})))),0!==l||fe?""!==D&&!fe&&s.a.createElement(m.q,{onClick:pe.event},pe.text):s.a.createElement(m.q,{onClick:pe.event},pe.text),s.a.createElement("div",{className:"notice"},"Notice : This detection is the basic item scan, please do not treat it as the final audit report.For the final report, please contact customer service for manual audit"),s.a.createElement("div",{className:"detect"},s.a.createElement("span",{onClick:function(){a.push("/contract_detection/history")}},le,"+ Detected ",s.a.createElement("span",{className:"pointRight"}))))),s.a.createElement(f,{isOpen:$,onDismiss:function(){G(!1),Z(""),P(""),R(""),_(!1)},errorMsg:X}))}}}]);
//# sourceMappingURL=13.b6fae33c.chunk.js.map