(this["webpackJsonpcore-frontsite"]=this["webpackJsonpcore-frontsite"]||[]).push([[13],{491:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),c=a.n(n),r=a(121),l=a(356);function s(e){var t=e.isOpen,a=e.onDismiss,n=e.errorMsg;return c.a.createElement(r.a,{isOpen:t,minWidth:384,maxWidth:384,onDismiss:a,minHeight:214},c.a.createElement(l.d,null,c.a.createElement("div",{className:"notice"},"Notice"),c.a.createElement("div",{className:"info"},n),c.a.createElement("div",{className:"button",onClick:function(){a()}},"OK")))}},492:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n,c=a(0),r=a.n(c),l=a(356),s=a(337),o=a.n(s);a(570),a(571),a(572),a(573),a(574),a(493),a(575),a(576),a(577),a(578),a(579),a(580),a(581),a(582),a(583),a(584),a(585),a(586),a(587),a(588);function i(e){var t=e.value;return Object(c.useEffect)((function(){var e=document.getElementById("code");(n=o.a.fromTextArea(e,{theme:"panda-syntax",lineNumbers:!0,firstLineNumber:1,lineWrapping:!0,scrollbarStyle:null,tabSize:2,smartIndent:!0,indentUnit:2,indentWithTabs:!0,autofocus:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],foldGutter:!0,mode:"python",styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,hintOptions:{completeSingle:!1},readOnly:!0})).setOption("value",'print("hello word")'),n.on("keypress",(function(){n.showHint()})),""!==t&&n.setOption("value",t)}),[t]),r.a.createElement(l.r,null,r.a.createElement("textarea",{id:"code",name:"code"}," "))}},754:function(e,t,a){},850:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(28),c=a(45),r=a(0),l=a.n(r),s=a(210),o=a.n(s),i=a(209),u=a.n(i),d=a(491),m=(a(754),a(25)),f=a(54),b=a(492),v=a(356),g=a(852),O=a(36),p=a(446),E=a(175),h=a(75),j=(a(223),["value","onUserInput","placeholder","ShowRed","setcontrastErrText"]),S=g.a.Option,T=RegExp(/^[a-zA-Z\d]+$/),C=RegExp(/^0x[a-fA-F0-9]{40}$/);function I(e){var t=e.value,a=e.onUserInput,n=e.placeholder,r=e.ShowRed,s=e.setcontrastErrText,o=Object(c.a)(e,j);return l.a.createElement(v.t,Object.assign({},o,{value:t,onChange:function(e){return t=e.target.value,void(!T.test(t)&&t||a(t));var t},autoComplete:"off",autoCorrect:"off",type:"text",ShowRed:r,placeholder:n||"",onBlur:function(e){return t=e,void(C.test(t.target.value)?s(""):s("Notice\uff1aAddress is validated incorrectly"));var t}}))}var N=Object(h.a)("REACT_APP_DEV_REQUEST_URL");function k(){var e=Object(m.a)().account,t=Object(f.d)(),a=Object(O.f)(),c=Object(r.useState)(0),s=Object(n.a)(c,2),i=s[0],h=s[1],j=Object(r.useState)(""),T=Object(n.a)(j,2),k=T[0],w=T[1],R=Object(r.useState)(""),x=Object(n.a)(R,2),A=x[0],y=x[1],D=Object(r.useState)(!1),B=Object(n.a)(D,2),M=B[0],U=B[1],_=Object(r.useState)("bsc"),F=Object(n.a)(_,2),H=F[0],W=F[1],q=Object(r.useState)(""),J=Object(n.a)(q,2),L=J[0],P=J[1],z=Object(r.useState)(!1),V=Object(n.a)(z,2),$=V[0],G=V[1],K=Object(r.useState)(""),Q=Object(n.a)(K,2),X=Q[0],Z=Q[1],Y=Object(r.useState)(!1),ee=Object(n.a)(Y,2),te=ee[0],ae=ee[1],ne=Object(r.useState)(""),ce=Object(n.a)(ne,2),re=ce[0],le=ce[1],se=Object(r.useState)(0),oe=Object(n.a)(se,2),ie=oe[0],ue=oe[1],de=Object(r.useState)(!1),me=Object(n.a)(de,2),fe=me[0],be=me[1],ve=Object(r.useState)(!1),ge=Object(n.a)(ve,2),Oe=ge[0],pe=ge[1],Ee=Object(r.useState)(!1),he=Object(n.a)(Ee,2),je=he[0],Se=he[1];var Te=Object(r.useCallback)((function(){C.test(k)?(P(""),ke()):P("Notice\uff1aAddress is validated incorrectly")}),[k,a,e]),Ce=Object(r.useMemo)((function(){var a={text:"Start detection",event:function(){return{}},disabled:!0};return e?te?(a.text=l.a.createElement(l.a.Fragment,null,l.a.createElement(E.b,null),"Detecting",l.a.createElement(E.a,null)),a):{text:"Start detection",event:function(){0===i?Te():function(){var e=re||localStorage.getItem("CurrentTestId");console.log(e,"Id"),e&&Ne(e)}()},disabled:!1}:(a.text="Connect Wallet",a.disabled=!1,a.event=function(){t()},a)}),[e,t,Te,i,te,m.a]),Ie=Object(r.useCallback)((function(){e&&Object(p.g)({address:e}).then((function(t){if(200===t.code){var a={nonce:t.data.nonce,address:e};Object(p.h)(a).then((function(e){if(200===e.code){var t=e.data.token;window.sessionStorage.setItem("token","Bearer "+t),ke()}else G(!0),Z(e.msg)}))}else G(!0),Z(t.msg)}))}),[e]),Ne=Object(r.useCallback)((function(e){Object(p.e)({id:e}).then((function(t){var n=t.code,c=t.data,r=t.msg;if(200===n)if("{}"===JSON.stringify(c))console.log(Oe,"TakeResultAllTime==>",localStorage.getItem("TakeResultAllTime"),e,localStorage.getItem("CurrentTestId"),"true"===localStorage.getItem("TakeResultAllTime")&&Number(e)===Number(localStorage.getItem("CurrentTestId"))),"true"===localStorage.getItem("TakeResultAllTime")&&Number(e)===Number(localStorage.getItem("CurrentTestId"))&&(ae(!0),setTimeout((function(){Ne(e)}),3e3));else{be(!1),ae(!1);var l=re||localStorage.getItem("CurrentTestId");a.push("/contract_detection/".concat(l))}else G(!0),Z(r)}))}),[Oe,re,a]),ke=Object(r.useCallback)((function(){e&&Object(p.f)({addr:e}).then((function(e){if(200===e.code){var t=e.data,a=e.msg;2===t.status&&(G(!0),Z(a)),1===t.status&&(localStorage.setItem("CurrentTestId",t.id),localStorage.setItem("TakeResultAllTime","true"),pe(!0),setTimeout((function(){be(!0),Ne(t.id)}),0)),0===t.status&&(be(!1),ae(!1),C.test(k)&&function(){console.log(H,"selectChain");var e={address:k,network:localStorage.getItem("chain")};Object(p.a)(e).then((function(e){var t=e.code,a=e.data,n=e.msg;if(30001===t&&(G(!0),Z(n)),500===t&&(G(!0),Z("The service is busy, please try again")),200===t){var c=a.id;le(c),localStorage.setItem("CurrentTestId",c),localStorage.setItem("TakeResultAllTime","true"),ae(!0),Ne(c)}}))}())}else G(!0),Z(e.msg)}))}),[k,Ne,e,H]),we=Object(r.useCallback)((function(){G(!1),Z(""),P(""),y(""),U(!1),h(0),w(""),pe(!1),localStorage.setItem("TakeResultAllTime","false")}),[e]);return Object(r.useEffect)((function(){return localStorage.setItem("chain","bsc"),Ie(),Object(p.d)().then((function(e){e.data&&ue(e.data)})),we(),function(){void 0}}),[e]),l.a.createElement(v.b,{className:"ContractDetection"},l.a.createElement("div",{className:"container"},l.a.createElement(v.u,{className:"ContracDec"},l.a.createElement("div",{className:"title"},"Triathon Contract Detection"),l.a.createElement("div",{className:"tabs"},l.a.createElement("span",{className:0===i?"active tab1":"tab1",onClick:function(){return h(0)}},"Detect with address"),l.a.createElement("span",{className:1===i?"active tab2":"tab2",onClick:function(){return h(1)}},"Detect with file")),fe?l.a.createElement(v.o,null,l.a.createElement("div",{className:"loading"}),l.a.createElement("div",{className:"text"},"Detecting\u2026")):0===i?l.a.createElement("div",{className:"addreccCon"},l.a.createElement("div",{className:"select"},l.a.createElement(g.a,{defaultValue:"bsc",onChange:function(e){W(e),localStorage.setItem("chain",e)},dropdownClassName:"dropCon",showArrow:!0},l.a.createElement(S,{value:"bsc"},"  ",l.a.createElement("img",{src:u.a,alt:""})," BSC"),l.a.createElement(S,{value:"eth"},"  ",l.a.createElement("img",{src:o.a,alt:""})," ETH"))),l.a.createElement("div",{className:"inputCon"},l.a.createElement(I,{value:k,onUserInput:function(e){return w(e)},placeholder:"Please enter the contact address",ShowRed:""===L||""===k,setcontrastErrText:P})),l.a.createElement("div",{className:"err"},L)):l.a.createElement("div",{className:"fileCon"},M?l.a.createElement(v.e,null,""!==A&&l.a.createElement(b.a,{value:A})):l.a.createElement("div",{className:"uploadBefore"},l.a.createElement(v.s,null,l.a.createElement("span",null),"Upload file (.sol)",l.a.createElement("input",{type:"file",id:"file-input",accept:".sol",onChange:function(e){var t=e.target.files[0];if(t){var a=new FormData;a.set("file",t),a.set("main_file",t.name);var n=new XMLHttpRequest;n.open("POST",N+"upload/",!0),n.setRequestHeader("Authorization",window.sessionStorage.getItem("token")||""),n.send(a),n.onload=function(e){var t=JSON.parse(n.responseText),a=t.code,c=t.data,r=t.msg;30001===a&&(G(!0),Z(r)),500===a&&(G(!0),Z("The service is busy, please try again")),200===a&&(2===c.status&&(G(!0),Z(r)),c.id&&(le(c.id),localStorage.setItem("CurrentTestId",c.id),localStorage.setItem("TakeResultAllTime","true"),Se(!0)))};var c=new FileReader;c.onload=function(e){var t=e.target.result;y(t),U(!0)},c.readAsText(t,"utf-8")}}})))),0!==i||fe?""!==A&&!fe&&je&&l.a.createElement(v.q,{onClick:Ce.event},Ce.text):l.a.createElement(v.q,{onClick:Ce.event},Ce.text),l.a.createElement("div",{className:"notice"},"Notice : This detection is the basic item scan, please do not treat it as the final audit report.For the final report, please contract customer service for manual audit"),l.a.createElement("div",{className:"detect"},l.a.createElement("span",{onClick:function(){a.push("/contract_detection/history")}},ie,"+ Detected ",l.a.createElement("span",{className:"pointRight"}))))),l.a.createElement(d.a,{isOpen:$,onDismiss:function(){G(!1),Z(""),P(""),y(""),U(!1)},errorMsg:X}))}}}]);
//# sourceMappingURL=13.2f72d52f.chunk.js.map