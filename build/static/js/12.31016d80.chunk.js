(this["webpackJsonpcore-frontsite"]=this["webpackJsonpcore-frontsite"]||[]).push([[12],{728:function(e,t,a){},847:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return T}));var n=a(31),c=a(45),o=a(0),r=a.n(o),s=a(206),l=a.n(s),i=a(205),u=a.n(i),d=a(165),m=a(409);function f(e){var t=e.isOpen,a=e.onDismiss,n=e.errorMsg;return r.a.createElement(d.a,{isOpen:t,minWidth:384,maxWidth:384,onDismiss:a,minHeight:214},r.a.createElement(m.d,null,r.a.createElement("div",{className:"notice"},"Notice"),r.a.createElement("div",{className:"info"},n),r.a.createElement("div",{className:"button",onClick:function(){a()}},"OK")))}a(728);var b,p=a(25),v=a(54),E=a(333),h=a.n(E);a(729),a(730),a(731),a(732),a(733),a(563),a(734),a(735),a(736),a(737),a(738),a(739),a(740),a(741),a(742),a(743),a(744),a(745),a(746),a(747);function O(e){var t=e.value;return Object(o.useEffect)((function(){var e=document.getElementById("code");(b=h.a.fromTextArea(e,{theme:"panda-syntax",lineNumbers:!0,firstLineNumber:1,lineWrapping:!0,scrollbarStyle:null,tabSize:2,smartIndent:!0,indentUnit:2,indentWithTabs:!0,autofocus:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],foldGutter:!0,mode:"python",styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,hintOptions:{completeSingle:!1},readOnly:!0})).setOption("value",'print("hello word")'),b.on("keypress",(function(){b.showHint()})),""!==t&&b.setOption("value",t)}),[t]),r.a.createElement(m.p,null,r.a.createElement("textarea",{id:"code",name:"code"}," "))}var g=a(845),j=a(36),S=a(507),C=a(169),N=a(75),w=["value","onUserInput","placeholder","ShowRed"],k=g.a.Option,x=RegExp(/^[a-zA-Z\d]+$/),R=RegExp(/^0x[a-fA-F0-9]{40}$/);function D(e){var t=e.value,a=e.onUserInput,n=e.placeholder,o=e.ShowRed,s=Object(c.a)(e,w);return r.a.createElement(m.r,Object.assign({},s,{value:t,onChange:function(e){return t=e.target.value,void(!x.test(t)&&t||a(t));var t},autoComplete:"off",autoCorrect:"off",type:"text",ShowRed:o,placeholder:n||""}))}var y=Object(N.a)("REACT_APP_DEV_REQUEST_URL");function T(){var e=Object(p.a)().account,t=Object(v.d)(),a=Object(j.f)(),c=Object(o.useState)(0),s=Object(n.a)(c,2),i=s[0],d=s[1],b=Object(o.useState)(""),E=Object(n.a)(b,2),h=E[0],N=E[1],w=Object(o.useState)(""),x=Object(n.a)(w,2),T=x[0],A=x[1],I=Object(o.useState)(!1),M=Object(n.a)(I,2),U=M[0],_=M[1],B=Object(o.useState)("bsc"),F=Object(n.a)(B,2),H=F[0],W=F[1],L=Object(o.useState)(""),P=Object(n.a)(L,2),q=P[0],z=P[1],J=Object(o.useState)(!1),V=Object(n.a)(J,2),$=V[0],G=V[1],K=Object(o.useState)(""),Q=Object(n.a)(K,2),X=Q[0],Z=Q[1],Y=Object(o.useState)(!1),ee=Object(n.a)(Y,2),te=ee[0],ae=ee[1],ne=Object(o.useState)(0),ce=Object(n.a)(ne,2),oe=ce[0],re=ce[1];var se=Object(o.useCallback)((function(){R.test(h)?(z(""),le()):z("Notice\uff1aAddress is validated incorrectly")}),[h,a]),le=function(){var e={address:h,network:H};Object(S.a)(e).then((function(e){var t=e.code,n=e.data,c=e.msg;30001===t&&(G(!0),Z(c)),200===t&&(console.log(n,"data"),ae(!0),setTimeout((function(){a.push("/contract_detection/1")}),100))}))},ie=Object(o.useMemo)((function(){var a={text:"Start detection",event:function(){return{}},disabled:!0};return e?te?(a.text=r.a.createElement(r.a.Fragment,null,"Detecting",r.a.createElement(C.a,null)),a):{text:"Start detection",event:function(){0===i?se():(console.log("===================================="),console.log("\u68c0\u6d4b\u6587\u4ef6\u5939\u7ed3\u679c"),console.log("===================================="))},disabled:!1}:(a.text="Connect Wallet",a.disabled=!1,a.event=function(){t()},a)}),[e,t,se,i,te]);return Object(o.useEffect)((function(){localStorage.setItem("chain","bsc"),e&&Object(S.e)({address:e}).then((function(t){var a={nonce:t.data.nonce,address:e};Object(S.f)(a).then((function(e){var t=e.data.token;window.sessionStorage.setItem("token","Bearer "+t)}))})),Object(S.c)().then((function(e){e.data&&re(e.data)}))}),[]),r.a.createElement(m.b,{className:"ContractDetection"},r.a.createElement("div",{className:"container"},r.a.createElement(m.s,{className:"ContracDec"},r.a.createElement("div",{className:"title"},"Triathon Contract Detection"),r.a.createElement("div",{className:"tabs"},r.a.createElement("span",{className:0===i?"active tab1":"tab1",onClick:function(){return d(0)}},"Detect with address"),r.a.createElement("span",{className:1===i?"active tab2":"tab2",onClick:function(){return d(1)}},"Detect with file")),0===i&&r.a.createElement("div",{className:"addreccCon"},r.a.createElement("div",{className:"select"},r.a.createElement(g.a,{defaultValue:"bsc",onChange:function(e){W(e),localStorage.setItem("chain",e)},dropdownClassName:"dropCon",showArrow:!0},r.a.createElement(k,{value:"bsc"},"  ",r.a.createElement("img",{src:u.a,alt:""})," BSC"),r.a.createElement(k,{value:"eth"},"  ",r.a.createElement("img",{src:l.a,alt:""})," ETH"))),r.a.createElement("div",{className:"inputCon"},r.a.createElement(D,{value:h,onUserInput:function(e){return N(e)},placeholder:"Please enter the contact address",ShowRed:""===q||""===h})),r.a.createElement("div",{className:"err"},q)),1===i&&r.a.createElement("div",{className:"fileCon"},U?r.a.createElement(m.e,null,""!==T&&r.a.createElement(O,{value:T})):r.a.createElement("div",{className:"uploadBefore"},r.a.createElement(m.q,null,r.a.createElement("span",null),"Upload file (.sol)",r.a.createElement("input",{type:"file",id:"file-input",accept:".sol",onChange:function(e){var t=e.target.files[0];if(t){var a=new FormData;a.set("file",t),a.set("main_file",t.name);var n=new XMLHttpRequest;n.open("POST",y+"upload/",!0),n.setRequestHeader("Authorization",window.sessionStorage.getItem("token")||""),n.send(a),n.onload=function(e){var t=JSON.parse(n.responseText),a=t.code,c=t.data,o=t.msg;console.log("===================================="),console.log(a,c,o),console.log("===================================="),30001===a&&(G(!0),Z(o))};var c=new FileReader;c.onload=function(e){var t=e.target.result;A(t),_(!0)},c.readAsText(t,"utf-8")}}})))),r.a.createElement(m.o,{onClick:ie.event},ie.text),r.a.createElement("div",{className:"notice"},"Notice : This detection is the basic item scan, please do not treat it as the final audit report.For the final report, please contact customer service for manual audit"),r.a.createElement("div",{className:"detect"},r.a.createElement("span",{onClick:function(){a.push("/contract_detection/history")}},oe,"+ Detected ",r.a.createElement("span",{className:"pointRight"}))))),r.a.createElement(f,{isOpen:$,onDismiss:function(){G(!1),Z(""),z(""),A(""),_(!1)},errorMsg:X}))}}}]);
//# sourceMappingURL=12.31016d80.chunk.js.map