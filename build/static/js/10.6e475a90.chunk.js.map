{"version":3,"sources":["pages/ContractDetection/styled.tsx","pages/ContractDetection/component/StyleCode.jsx","pages/ContractDetection/index.tsx"],"names":["ContainerCon","styled","div","WidthDiv","point","StyledInput","input","StyleSolInputUp","FileContent","StyleButton","disabled","StyleCodeDom","myCodeMirror","StyleCode","value","useEffect","textArea","document","getElementById","CodeMirror","fromTextArea","theme","lineNumbers","firstLineNumber","lineWrapping","scrollbarStyle","tabSize","smartIndent","indentUnit","indentWithTabs","autofocus","gutters","foldGutter","mode","styleActiveLine","matchBrackets","autoCloseBrackets","hintOptions","completeSingle","readOnly","setOption","on","showHint","id","name","inputRegex","RegExp","Input","onUserInput","placeholder","rest","onChange","event","nextUserInput","target","test","autoComplete","autoCorrect","type","ContractDetection","account","useActiveWeb3React","toggleWalletModal","useWalletModalToggle","useState","currIndex","setcurrIndex","AddressContract","setAddressContract","FileValue","setFileValue","FileShow","setFileShow","readSingleFile","e","file","files","console","log","reader","FileReader","onload","contents","result","readAsText","styleButton","useMemo","rst","text","fileInput","addEventListener","removeEventListener","className","onClick","val","accept"],"mappings":"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","file":"static/js/10.6e475a90.chunk.js","sourcesContent":["import styled from 'styled-components'\nimport point from '../../assets/images/contrastDetec/point@2x.png'\n\n\n\nexport const ContainerCon = styled.div<{ isPadding?: boolean }>`\n  width: 100%;\n  height: 100%;\n  .container{\n    padding-top: 87px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n  }\n`\nexport const WidthDiv = styled.div`\n\n    .title{\n        font-size: 56px;\n        font-family: Poppins-SemiBold, Poppins;\n        font-weight: 600;\n        color: #FFFFFF;\n        line-height: 64px;\n        margin-bottom: 72px;\n    }\n    .tabs{\n        text-align: center;\n        height: 28px;\n        margin-bottom: 40px;\n        >span{\n            cursor: pointer;\n            font-size: 20px;\n            font-family: Poppins-SemiBold, Poppins;\n            font-weight: 600;\n            color: #FFFFFF;\n            line-height: 28px;\n        }\n        .tab1{\n            margin-right: 80px;\n        }\n        .active{\n            color: #3772FF;\n        }\n    }\n    .addreccCon{\n        display: flex;\n        justify-content: center;\n        height: 60px;\n        .select{\n            width: 149px;\n            height: 60px;\n            border-radius: 8px;\n            border: 1px solid #23252C;\n            margin-right: 12px;\n        }\n        .inputCon{\n            width: 475px;\n            height: 60px;\n            border-radius: 8px;\n            border: 1px solid #23252C;\n        }\n    }\n    .notice{\n        width: 636px;\n        height: 40px;\n        font-size: 12px;\n        font-family: Poppins-Regular, Poppins;\n        font-weight: 400;\n        color: #636B80;\n        line-height: 20px;\n        margin: 0 auto;\n        text-align: center;\n\n    }\n    .detect{\n        height: 50px;\n        line-height: 50px;\n        text-align: center;\n        width: 636px;\n        margin: 48px auto 0;\n        font-size: 16px;\n        font-family: Poppins-Medium, Poppins;\n        font-weight: 500;\n        color: #FFFFFF;\n        cursor: pointer;\n        span{\n            width: 12px;\n            height: 12px;\n            display: inline-block;\n            background: url(${point}) no-repeat;\n            background-size: 100% 100%;\n            margin-left: 5px;\n        }\n    }\n    .fileCon{\n        width: 636px;\n        margin: 0 auto;\n        height: auto;\n        .uploadBefore{\n            width: 100%;\n            height: 144px;\n            background: #161719;\n            border-radius: 16px;\n            border: 1px solid #23252C;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n    }\n`\nexport const StyledInput = styled.input`\n        width:100%;\n        border: none;\n        background: none;\n        outline: none;\n        font-size: 16px;\n        font-family: Poppins-Regular, Poppins;\n        font-weight: 600;\n        color: #FFFFFF;\n        padding-left: 20px;\n        height: 60px;\n        line-height: 60px;\n        &::placeholder{\n            font-size: 16px;\n            font-family: Poppins-Regular, Poppins;\n            font-weight: 400;\n            color: #575A61;\n        }\n`\nexport const StyleSolInputUp = styled.div`\n        width: 209px;\n        height: 44px;\n        background: #FFFFFF;\n        border-radius: 8px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 16px;\n        font-family: Poppins-Medium, Poppins;\n        font-weight: 500;\n        color: #111112;\n        cursor: pointer;\n        span{\n            display: inline-block;\n            width: 20px;\n            height: 18px;\n            background: linear-gradient(180deg, #6B9BFF 0%, #2561F0 100%);\n            margin-right: 10px;\n\n        }\n        position: relative;\n        >input{\n            width: 100%;\n            height: 44px;\n            border: none;\n            outline: none;\n            background: none;\n            position: absolute;\n            left: 0;\n            top: 0;\n            opacity: 0;\n        }\n        \n`\nexport const FileContent = styled.div`\n    width: 636px;\n    height: 240px;\n    margin: 0 auto;\n`\nexport const StyleButton = styled.div<{ width?: string; height?: string; disabled?: boolean }>`\n    width: 636px;\n    height: 50px;\n    background: #3772FF;\n    border-radius: 8px;\n    color: ${({ disabled }) => disabled ? 'rgba(255, 255, 255, .4)' : 'rgba(255, 255, 255, 1)'};\n    background: ${({ disabled }) =>\n    disabled\n    ? 'rgba(55, 114, 255, .4)'\n    : 'rgba(55, 114, 255, 1)'};\n    cursor: ${({ disabled }) => disabled ? 'not-allowed' : 'pointer'};\n    font-size: 16px;\n    font-family: Poppins-Medium, Poppins;\n    font-weight: 500;\n    color: #FFFFFF;\n    line-height: 50px;\n    text-align: center;\n    margin: 56px auto 24px;\n`\nexport const StyleCodeDom = styled.div`\n    width: 636px;\n    height: 240px;\n    border-radius: 8px;\n    border: 1px solid #23252C;\n    .CodeMirror{\n        height: 240px !important;\n        border-radius: 8px;\n    }\n`\n\n\n\n ","import React, { useEffect } from 'react'\n\nimport { StyleCodeDom } from '../styled'\nimport CodeMirror from 'codemirror';\nimport 'codemirror/lib/codemirror.css'\n//主题\nimport 'codemirror/theme/material.css';\nimport 'codemirror/theme/solarized.css'\nimport 'codemirror/theme/panda-syntax.css'\n// 折叠代码\nimport 'codemirror/addon/fold/foldgutter.css';\nimport 'codemirror/addon/fold/foldcode.js';\nimport 'codemirror/addon/fold/foldgutter.js';\nimport 'codemirror/addon/fold/brace-fold.js';\nimport 'codemirror/addon/fold/comment-fold.js';\nimport 'codemirror/addon/fold/indent-fold.js';\n\n// 代码提示\nimport 'codemirror/addon/hint/show-hint.css'; //\nimport 'codemirror/addon/hint/show-hint.js';\nimport 'codemirror/addon/hint/anyword-hint.js'; // 简单提示，按需引入，spl可引入sql-hint.js\n\nimport \"codemirror/addon/comment/comment.js\";\n// 高亮\nimport \"codemirror/addon/selection/active-line.js\";\n\n// python语言\nimport \"codemirror/mode/python/python.js\";\n\n// 括号匹配\nimport \"codemirror/addon/edit/closebrackets.js\";\nimport \"codemirror/addon/edit/matchbrackets.js\";\n\nimport 'codemirror/addon/lint/lint.js'\nimport 'codemirror/addon/lint/javascript-lint.js'\n\n\n\nlet myCodeMirror;\n\n\n\nexport function StyleCode({ value }) {\n    useEffect(() => {\n        const textArea = document.getElementById(\"code\");\n        myCodeMirror = CodeMirror.fromTextArea(textArea, {\n            theme: 'panda-syntax',//主题\n            lineNumbers: true,//显示行号\n            firstLineNumber: 1,//行号从几开始，默认1\n            lineWrapping: true,//滚动或换行\n            scrollbarStyle: null,//隐藏滚动条样式\n            tabSize: 2, //tab键缩进,默认4\n            smartIndent: true, // 智能缩进\n            indentUnit: 2, // 智能缩进单位为2个空格长度\n            indentWithTabs: true, // 使用制表符进行智能缩进\n            autofocus: true,//自动获取焦点\n            // 在行槽中添加行号显示器、折叠器、语法检测器\n            gutters: [\"CodeMirror-linenumbers\", \"CodeMirror-foldgutter\", \"CodeMirror-lint-markers\"],\n            foldGutter: true, // 启用行槽中的代码折叠\n            mode: \"python\", // 要使用的模式//https://codemirror.net/mode/\n            styleActiveLine: true, // 显示选中行的样式\n            matchBrackets: true,\t//括号匹配\n            autoCloseBrackets: true,//括号自动补全，()[]{}''\"\"\n            hintOptions: {\n                completeSingle: false//代码自动补全功能不默认补充\n            },\n            readOnly: true,\n        });\n        myCodeMirror.setOption(\"value\", 'print(\"hello word\")');//初始值\n        myCodeMirror.on(\"keypress\", function () {//代码补全功能\n            myCodeMirror.showHint();\n        });\n        if(value !==''){\n            myCodeMirror.setOption(\"value\",value);//初始值\n        }\n        \n        // myCodeMirror.setSize('40vw', '50vh');//编辑框大小(宽，高)\n    }, [value])\n\n\n    return <StyleCodeDom >\n\n        <textarea id=\"code\" name=\"code\"> </textarea>\n\n    </StyleCodeDom>\n}\n\n\n\n","import React, { useEffect, useMemo, useState } from 'react'\nimport { useActiveWeb3React } from '../../hooks'\nimport { useWalletModalToggle } from '../../state/application/hooks'\nimport { StyleCode } from './component/StyleCode'\nimport { ContainerCon, FileContent, StyleButton, StyledInput, StyleSolInputUp, WidthDiv } from './styled'\n// import { Select } from 'antd';\n\n\n// const inputRegex = RegExp(/^\\d+\\.?(\\d{1})?$/)\nconst inputRegex = RegExp(/^[a-zA-Z\\d]+$/)\n// const inputRegex = RegExp(/^0x[a-fA-F0-9]{40}$/)\nfunction Input({\n    value,\n    onUserInput,\n    placeholder,\n    ...rest\n}: {\n    value: string | number\n    onUserInput: (input: string) => void\n    error?: boolean\n    placeholder?: string\n} & Omit<React.HTMLProps<HTMLInputElement>, 'ref' | 'onChange' | 'as'>) {\n\n    const enforcer = (nextUserInput: string) => {\n        if (inputRegex.test(nextUserInput) || !nextUserInput) {\n            onUserInput(nextUserInput)\n        }\n    }\n\n\n\n    return (\n        <StyledInput\n            {...rest}\n            value={value}\n            onChange={event => enforcer(event.target.value)}\n            autoComplete=\"off\"\n            autoCorrect=\"off\"\n            type=\"text\"\n            placeholder={placeholder || ''}\n        />\n\n    )\n}\n\n\ninterface BtnProp {\n    disabled: boolean\n    text: JSX.Element | string\n    event?: () => void\n}\n\n\nexport default function ContractDetection(): JSX.Element {\n\n    const { account } = useActiveWeb3React()\n    const toggleWalletModal = useWalletModalToggle()\n\n\n    const [currIndex, setcurrIndex] = useState(1)\n    const [AddressContract, setAddressContract] = useState('')\n\n    const [FileValue, setFileValue] = useState('')\n    const [FileShow, setFileShow] = useState(false)\n    //上传文件\n    function readSingleFile(e: any) {\n        var file = e.target.files[0];\n        console.log(file, 'file');\n\n        if (!file) { return; }\n        var reader = new FileReader();\n        reader.onload = function (e: any) {\n            var contents = e.target.result;\n            setFileValue(contents)\n            setFileShow(true)\n\n        };\n        reader.readAsText(file, \"utf-8\");\n    }\n\n\n    const styleButton: BtnProp = useMemo(() => {\n        const rst: BtnProp = {\n            text: 'Start detection',\n            event: () => ({}),\n            disabled: true\n        }\n        if (!account) {\n            rst.text = 'Connect Wallet'\n            rst.disabled = false\n            rst.event = () => {\n                toggleWalletModal()\n            }\n            return rst\n        }\n\n\n\n        return {\n            text: 'Start detection',\n            event: () => { },\n            disabled: false\n        }\n    }, [\n        account,\n        toggleWalletModal\n    ])\n    useEffect(() => {\n        var fileInput = document.getElementById(\"file-input\");\n        fileInput && fileInput.addEventListener(\"change\", readSingleFile, false);\n        return () => {\n            fileInput && fileInput.removeEventListener(\"change\", readSingleFile, false);\n        }\n    }, [FileValue])\n\n\n\n    return <ContainerCon className=\"ContractDetection\">\n\n        <div className=\"container\">\n            <WidthDiv className='ContracDec'>\n                <div className=\"title\">Triathon Contract Detection</div>\n                <div className=\"tabs\">\n                    <span className={currIndex === 0 ? 'active tab1' : 'tab1'} onClick={() => setcurrIndex(0)}>Detect with address</span>\n                    <span className={currIndex === 1 ? 'active tab2' : 'tab2'} onClick={() => setcurrIndex(1)}>Detect with file</span>\n                </div>\n                {\n                    currIndex === 0 && <div className=\"addreccCon\">\n                        <div className=\"select\">\n                            {/* <Select\n                                defaultValue=\"lucy\"\n                                style={{ width: 120 }}\n                                options={[\n                                    {\n                                        value: 'jack',\n                                        label: 'Jack',\n                                    },\n                                    {\n                                        value: 'lucy',\n                                        label: 'Lucy',\n                                    },\n                                    {\n                                        value: 'disabled',\n                                        disabled: true,\n                                        label: 'Disabled',\n                                    },\n                                    {\n                                        value: 'Yiminghe',\n                                        label: 'yiminghe',\n                                    },\n                                ]}\n                            /> */}\n                        </div>\n                        <div className=\"inputCon\">\n                            <Input value={AddressContract} onUserInput={val => setAddressContract(val)} placeholder='Please enter the contact address'></Input>\n                        </div>\n                    </div>\n                }\n                {\n                    currIndex === 1 && <div className=\"fileCon\">\n                        {\n                            !FileShow ? <div className=\"uploadBefore\"><StyleSolInputUp >\n                                <span></span>\n                                Upload file (.sol)\n                                <input type=\"file\" id='file-input' accept=\".sol\" />\n                            </StyleSolInputUp></div> : <FileContent>\n                                {\n                                    FileValue !== '' && <StyleCode value={FileValue}></StyleCode>\n                                }\n                            </FileContent>\n                        }\n\n                    </div>\n                }\n\n\n                <StyleButton onClick={styleButton.event}>{styleButton.text}</StyleButton>\n                <div className=\"notice\">Notice : This detection is the basic item scan, please do not treat it as the final audit report.For the final report, please contact customer service for manual audit</div>\n                <div className=\"detect\">500+ Detected <span></span></div>\n            </WidthDiv>\n        </div>\n\n    </ContainerCon>\n}"],"sourceRoot":""}