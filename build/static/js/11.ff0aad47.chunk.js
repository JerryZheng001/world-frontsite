(this["webpackJsonpcore-frontsite"]=this["webpackJsonpcore-frontsite"]||[]).push([[11],{502:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),c=a.n(n),l=a(121),r=a(422);function s(e){var t=e.isOpen,a=e.onDismiss,n=e.errorMsg;return c.a.createElement(l.a,{isOpen:t,minWidth:384,maxWidth:384,onDismiss:a,minHeight:214},c.a.createElement(r.b,null,c.a.createElement("div",{className:"notice"},"Notice"),c.a.createElement("div",{className:"info"},n),c.a.createElement("div",{className:"button",onClick:function(){a()}},"OK")))}},745:function(e,t,a){},862:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return R}));var n,c=a(28),l=a(45),r=a(0),s=a.n(r),o=a(208),i=a.n(o),u=a(207),m=a.n(u),d=a(502),f=(a(745),a(25)),b=a(54),v=a(422),g=a(349),E=a.n(g);a(746),a(747),a(748),a(749),a(750),a(580),a(751),a(752),a(753),a(754),a(755),a(756),a(757),a(758),a(759),a(760),a(761),a(762),a(763),a(764);function p(e){var t=e.value;return Object(r.useEffect)((function(){var e=document.getElementById("code");(n=E.a.fromTextArea(e,{theme:"panda-syntax",lineNumbers:!0,firstLineNumber:1,lineWrapping:!0,scrollbarStyle:null,tabSize:2,smartIndent:!0,indentUnit:2,indentWithTabs:!0,autofocus:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],foldGutter:!0,mode:"python",styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,hintOptions:{completeSingle:!1},readOnly:!0})).setOption("value",'print("hello word")'),n.on("keypress",(function(){n.showHint()})),""!==t&&n.setOption("value",t)}),[t]),s.a.createElement(v.k,null,s.a.createElement("textarea",{id:"code",name:"code"}," "))}var O=a(860),h=a(36),j=a(524),S=a(172),T=a(75),N=(a(209),["value","onUserInput","placeholder","ShowRed","setcontrastErrText"]),C=O.a.Option,I=RegExp(/^[a-zA-Z\d]+$/),k=RegExp(/^0x[a-fA-F0-9]{40}$/);function y(e){var t=e.value,a=e.onUserInput,n=e.placeholder,c=e.ShowRed,r=e.setcontrastErrText,o=Object(l.a)(e,N);return s.a.createElement(v.m,Object.assign({},o,{value:t,onChange:function(e){return t=e.target.value,void(!I.test(t)&&t||a(t));var t},autoComplete:"off",autoCorrect:"off",type:"text",ShowRed:c,placeholder:n||"",onBlur:function(e){return t=e,void(k.test(t.target.value)?r(""):r("Notice\uff1aAddress is validated incorrectly"));var t}}))}var w=Object(T.a)("REACT_APP_DEV_REQUEST_URL");function R(){var e=Object(f.a)().account,t=Object(b.d)(),a=Object(h.f)(),n=Object(r.useState)(0),l=Object(c.a)(n,2),o=l[0],u=l[1],g=Object(r.useState)(""),E=Object(c.a)(g,2),T=E[0],N=E[1],I=Object(r.useState)(""),R=Object(c.a)(I,2),x=R[0],A=R[1],D=Object(r.useState)(!1),B=Object(c.a)(D,2),F=B[0],M=B[1],U=Object(r.useState)("bsc"),_=Object(c.a)(U,2),W=_[0],H=_[1],q=Object(r.useState)(""),J=Object(c.a)(q,2),L=J[0],P=J[1],z=Object(r.useState)(!1),V=Object(c.a)(z,2),$=V[0],G=V[1],K=Object(r.useState)(""),Q=Object(c.a)(K,2),X=Q[0],Z=Q[1],Y=Object(r.useState)(!1),ee=Object(c.a)(Y,2),te=ee[0],ae=ee[1],ne=Object(r.useState)(""),ce=Object(c.a)(ne,2),le=ce[0],re=ce[1],se=Object(r.useState)(0),oe=Object(c.a)(se,2),ie=oe[0],ue=oe[1],me=Object(r.useState)(!1),de=Object(c.a)(me,2),fe=de[0],be=de[1],ve=Object(r.useState)(!1),ge=Object(c.a)(ve,2),Ee=ge[0],pe=ge[1],Oe=Object(r.useState)(!1),he=Object(c.a)(Oe,2),je=he[0],Se=he[1],Te=Object(r.useState)(!1),Ne=Object(c.a)(Te,2),Ce=Ne[0],Ie=Ne[1];var ke=Object(r.useCallback)((function(){k.test(T)?(P(""),xe()):P("Notice\uff1aAddress is validated incorrectly")}),[T,a,e]),ye=Object(r.useMemo)((function(){var a={text:"Start detection",event:function(){return{}},disabled:!0};return e?te?(a.text=s.a.createElement(s.a.Fragment,null,s.a.createElement(S.b,null),"Detecting",s.a.createElement(S.a,null)),a):Ce?(a.text="Too many requests, please wait",a):{text:"Start detection",event:function(){0===o?ke():function(){var e=le||localStorage.getItem("CurrentTestId");console.log(e,"Id"),e&&Re(e)}()},disabled:!1}:(a.text="Connect Wallet",a.disabled=!1,a.event=function(){t()},a)}),[e,t,ke,o,te,f.a,Ce]),we=Object(r.useCallback)((function(){e&&Object(j.f)({address:e}).then((function(t){if(200===t.code){var a={nonce:t.data.nonce,address:e};Object(j.g)(a).then((function(e){if(200===e.code){var t=e.data.token;window.sessionStorage.setItem("token","Bearer "+t),xe()}else G(!0),Z(e.msg)}))}else G(!0),Z(t.msg)}))}),[e]),Re=Object(r.useCallback)((function(e){Object(j.d)({id:e}).then((function(t){var n=t.code,c=t.data,l=t.msg;if(200===n)if("{}"===JSON.stringify(c))console.log(Ee,"TakeResultAllTime==>",localStorage.getItem("TakeResultAllTime"),e,localStorage.getItem("CurrentTestId"),"true"===localStorage.getItem("TakeResultAllTime")&&Number(e)===Number(localStorage.getItem("CurrentTestId"))),"true"===localStorage.getItem("TakeResultAllTime")&&Number(e)===Number(localStorage.getItem("CurrentTestId"))&&(ae(!0),setTimeout((function(){Re(e)}),3e3));else{be(!1),ae(!1);var r=le||localStorage.getItem("CurrentTestId");a.push("/contract_detection/".concat(r))}else 201===n?"true"===localStorage.getItem("TakeResultAllTime")&&Number(e)===Number(localStorage.getItem("CurrentTestId"))&&(Ie(!0),ae(!1),setTimeout((function(){Re(e)}),3e3)):(G(!0),Z(l),localStorage.setItem("TakeResultAllTime","false"))}))}),[Ee,le,a]),xe=Object(r.useCallback)((function(){e&&Object(j.e)({addr:e}).then((function(e){if(200===e.code){var t=e.data,a=e.msg;2===t.status&&(G(!0),Z(a)),1===t.status&&(localStorage.setItem("CurrentTestId",t.id),localStorage.setItem("TakeResultAllTime","true"),pe(!0),setTimeout((function(){be(!0),Re(t.id)}),0)),0===t.status&&(be(!1),ae(!1),k.test(T)&&function(){console.log(W,"selectChain");var e={address:T,network:localStorage.getItem("chain")};Object(j.a)(e).then((function(e){var t=e.code,a=e.data,n=e.msg;if(30001===t&&(G(!0),Z(n)),500===t&&(G(!0),Z("The service is busy, please try again")),200===t){var c=a.id;re(c),localStorage.setItem("CurrentTestId",c),localStorage.setItem("TakeResultAllTime","true"),ae(!0),Re(c)}}))}())}else G(!0),Z(e.msg)}))}),[T,Re,e,W]),Ae=Object(r.useCallback)((function(){G(!1),Z(""),P(""),A(""),M(!1),u(0),N(""),pe(!1),Ie(!1),localStorage.setItem("TakeResultAllTime","false")}),[e]);return Object(r.useEffect)((function(){return localStorage.setItem("chain","bsc"),we(),Object(j.c)().then((function(e){e.data&&ue(e.data)})),Ae(),function(){void 0}}),[e]),s.a.createElement(v.a,{className:"ContractDetection"},s.a.createElement("div",{className:"homeContainer"},s.a.createElement("div",{className:"container"},s.a.createElement(v.n,{className:"ContracDec"},s.a.createElement("div",{className:"title"},"Triathon Contract Detection"),s.a.createElement("div",{className:"tabs"},s.a.createElement("span",{className:0===o?"active tab1":"tab1",onClick:function(){return u(0)}},"Detect with address"),s.a.createElement("span",{className:1===o?"active tab2":"tab2",onClick:function(){return u(1)}},"Detect with file")),fe?s.a.createElement(v.i,null,Ce?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"loading"}),s.a.createElement("div",{className:"text"},"Too many requests, please wait")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"loading"}),s.a.createElement("div",{className:"text"},"Detecting\u2026"))):0===o?s.a.createElement("div",{className:"addreccCon"},s.a.createElement("div",{className:"select"},s.a.createElement(O.a,{defaultValue:"bsc",onChange:function(e){H(e),localStorage.setItem("chain",e)},dropdownClassName:"dropCon",showArrow:!0},s.a.createElement(C,{value:"bsc"},"  ",s.a.createElement("img",{src:m.a,alt:""})," BSC"),s.a.createElement(C,{value:"eth"},"  ",s.a.createElement("img",{src:i.a,alt:""})," ETH"))),s.a.createElement("div",{className:"inputCon"},s.a.createElement(y,{value:T,onUserInput:function(e){return N(e)},placeholder:"Please enter the contact address",ShowRed:""===L||""===T,setcontrastErrText:P})),s.a.createElement("div",{className:"err"},L)):s.a.createElement("div",{className:"fileCon"},F?s.a.createElement(v.c,null,""!==x&&s.a.createElement(p,{value:x})):s.a.createElement("div",{className:"uploadBefore"},s.a.createElement(v.l,null,s.a.createElement("span",null),"Upload file (.sol)",s.a.createElement("input",{type:"file",id:"file-input",accept:".sol",onChange:function(e){var t=e.target.files[0];if(t){var a=new FormData;a.set("file",t),a.set("main_file",t.name);var n=new XMLHttpRequest;n.open("POST",w+"api/v1/upload/",!0),n.setRequestHeader("Authorization",window.sessionStorage.getItem("token")||""),n.send(a),n.onload=function(e){var t=JSON.parse(n.responseText),a=t.code,c=t.data,l=t.msg;30001===a&&(G(!0),Z(l)),500===a&&(G(!0),Z("The service is busy, please try again")),200===a&&(2===c.status&&(G(!0),Z(l)),1===c.status&&(G(!0),Z(l)),c.id&&(re(c.id),localStorage.setItem("CurrentTestId",c.id),localStorage.setItem("TakeResultAllTime","true"),Se(!0)))};var c=new FileReader;c.onload=function(e){var t=e.target.result;A(t),M(!0)},c.readAsText(t,"utf-8")}}})))),0!==o||fe?e?""!==x&&!fe&&je&&s.a.createElement(v.j,{onClick:ye.event},ye.text):s.a.createElement(v.j,{onClick:function(){t()}}," Connect Wallet "):s.a.createElement(v.j,{onClick:ye.event},ye.text),s.a.createElement("div",{className:"notice"},"Notice : This detection is the basic item scan, please do not treat it as the final audit report.For the final report, please contract customer service for manual audit ( email : triathonspace@gmail.com )"),s.a.createElement("div",{className:"detect"},s.a.createElement("span",{onClick:function(){a.push("/contract_detection/history")}},ie,"+ Detected ",s.a.createElement("span",{className:"pointRight"}))))),s.a.createElement("div",{className:"playContainer"},s.a.createElement("div",{className:"play1"}),s.a.createElement("div",{className:"play2"}),s.a.createElement("div",{className:"play3"}),s.a.createElement("div",{className:"play4"}),s.a.createElement("div",{className:"play5"}),s.a.createElement("div",{className:"play6"}))),s.a.createElement(d.a,{isOpen:$,onDismiss:function(){G(!1),Z(""),P(""),A(""),M(!1),N(""),ae(!1),be(!1)},errorMsg:X}))}}}]);
//# sourceMappingURL=11.ff0aad47.chunk.js.map