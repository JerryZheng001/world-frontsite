/*! For license information please see 14.765216c9.chunk.js.LICENSE.txt */
(this["webpackJsonpcore-frontsite"]=this["webpackJsonpcore-frontsite"]||[]).push([[14],{747:function(e,t,n){},845:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var r=n(52),a=n(31),o=n(45),i=n(0),c=n.n(i),s=n(210),l=n.n(s),u=n(208),f=n.n(u),h=n(165),d=n(363);function p(e){var t=e.isOpen,n=e.onDismiss,r=e.errorMsg;return c.a.createElement(h.a,{isOpen:t,minWidth:384,maxWidth:384,onDismiss:n,minHeight:214},c.a.createElement(d.d,null,c.a.createElement("div",{className:"notice"},"Notice"),c.a.createElement("div",{className:"info"},r),c.a.createElement("div",{className:"button"},"OK")))}n(747);var v=n(25),m=n(54),g=n(561),y=n(844),w=n(36),E=n(748),b=n.n(E),O=n(75),j=[window.location.protocol,"//",window.location.host,"/"],x=/localhost/gi.test(window.location.hostname)?Object(O.a)("REACT_APP_DEV_REQUEST_URL"):j.join("");b.a.defaults.baseURL=x,b.a.defaults.timeout=1e4,b.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",b.a.interceptors.request.use((function(e){return e&&e.headers&&(e.headers.Authorization=window.sessionStorage.getItem("token")||""),e}),(function(e){return Promise.reject(e)})),b.a.interceptors.response.use((function(e){return 200!==e.status?Promise.reject(e):e.data}),(function(e){return Promise.reject(e)}));var L={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b.a.get(e,{params:t})},post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b.a.post(e,t,{params:n})}};var S=n(169),N=["value","onUserInput","placeholder","ShowRed"];function _(){_=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new j(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return L()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var u={};function f(){}function h(){}function d(){}var p={};c(p,a,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(x([])));m&&m!==t&&n.call(m,a)&&(p=m);var g=d.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(g,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var C=y.a.Option,k=RegExp(/^[a-zA-Z\d]+$/),R=RegExp(/^0x[a-fA-F0-9]{40}$/);function P(e){var t=e.value,n=e.onUserInput,r=e.placeholder,a=e.ShowRed,i=Object(o.a)(e,N);return c.a.createElement(d.r,Object.assign({},i,{value:t,onChange:function(e){return t=e.target.value,void(!k.test(t)&&t||n(t));var t},autoComplete:"off",autoCorrect:"off",type:"text",ShowRed:a,placeholder:r||""}))}var T=Object(O.a)("REACT_APP_DEV_REQUEST_URL");function A(){var e=Object(v.a)().account,t=Object(m.d)(),n=Object(w.f)(),o=Object(i.useState)(0),s=Object(a.a)(o,2),u=s[0],h=s[1],E=Object(i.useState)(""),b=Object(a.a)(E,2),O=b[0],j=b[1],x=Object(i.useState)(""),N=Object(a.a)(x,2),k=N[0],A=N[1],D=Object(i.useState)(!1),I=Object(a.a)(D,2),F=I[0],U=I[1],G=Object(i.useState)("bsc"),q=Object(a.a)(G,2),H=q[0],M=q[1],z=Object(i.useState)(""),B=Object(a.a)(z,2),V=B[0],W=B[1],J=Object(i.useState)(!1),Q=Object(a.a)(J,2),Y=Q[0],$=Q[1],K=Object(i.useState)(""),X=Object(a.a)(K,2),Z=X[0],ee=X[1],te=Object(i.useState)(!1),ne=Object(a.a)(te,2),re=ne[0],ae=ne[1];var oe=Object(i.useCallback)((function(){R.test(O)?(W(""),ie(),ae(!0)):W("Notice\uff1aAddress is validated incorrectly")}),[O,n]),ie=function(){var e=Object(r.a)(_().mark((function e(){var t,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={address:O,network:H},e.next=3,r=t,L.post("/submit/",r);case 3:n=e.sent,console.log(n,"\u4e0a\u4f20\u5408\u7ea6\u68c0\u6d4b\u5730\u5740"),200===n.data.code&&ae(!1);case 6:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}(),ce=Object(i.useMemo)((function(){var n={text:"Start detection",event:function(){return{}},disabled:!0};return e?re?(n.text=c.a.createElement(c.a.Fragment,null,"Detecting",c.a.createElement(S.a,null)),n):{text:"Start detection",event:function(){0===u?oe():(console.log("===================================="),console.log("\u68c0\u6d4b\u6587\u4ef6\u5939\u7ed3\u679c"),console.log("===================================="))},disabled:!1}:(n.text="Connect Wallet",n.disabled=!1,n.event=function(){t()},n)}),[e,t,oe,u,re]),se=function(){var t;e&&(t={address:e},L.get("/user/get_nonce/",t)).then((function(t){(function(e){return L.post("/user/login/",e)})({nonce:t.data.nonce,address:e}).then((function(e){var t=e.data.token;window.sessionStorage.setItem("token","Bearer "+t)}))}))};return Object(i.useEffect)((function(){localStorage.setItem("chain","bsc"),se()}),[]),c.a.createElement(d.b,{className:"ContractDetection"},c.a.createElement("div",{className:"container"},c.a.createElement(d.s,{className:"ContracDec"},c.a.createElement("div",{className:"title"},"Triathon Contract Detection"),c.a.createElement("div",{className:"tabs"},c.a.createElement("span",{className:0===u?"active tab1":"tab1",onClick:function(){return h(0)}},"Detect with address"),c.a.createElement("span",{className:1===u?"active tab2":"tab2",onClick:function(){return h(1)}},"Detect with file")),0===u&&c.a.createElement("div",{className:"addreccCon"},c.a.createElement("div",{className:"select"},c.a.createElement(y.a,{defaultValue:"bsc",onChange:function(e){M(e),localStorage.setItem("chain",e)},dropdownClassName:"dropCon",showArrow:!0},c.a.createElement(C,{value:"bsc"},"  ",c.a.createElement("img",{src:f.a,alt:""})," BSC"),c.a.createElement(C,{value:"eth"},"  ",c.a.createElement("img",{src:l.a,alt:""})," ETH"))),c.a.createElement("div",{className:"inputCon"},c.a.createElement(P,{value:O,onUserInput:function(e){return j(e)},placeholder:"Please enter the contact address",ShowRed:""===V||""===O})),c.a.createElement("div",{className:"err"},V)),1===u&&c.a.createElement("div",{className:"fileCon"},F?c.a.createElement(d.e,null,""!==k&&c.a.createElement(g.a,{value:k})):c.a.createElement("div",{className:"uploadBefore"},c.a.createElement(d.q,null,c.a.createElement("span",null),"Upload file (.sol)",c.a.createElement("input",{type:"file",id:"file-input",accept:".sol",onChange:function(e){var t=e.target.files[0];if(t){var n=new FormData;n.set("file",t),n.set("main_file",t.name);var r=new XMLHttpRequest;r.open("POST",T+"upload/",!0),r.setRequestHeader("Authorization",window.sessionStorage.getItem("token")||""),r.send(n),r.onload=function(e){console.log("===================================="),console.log(e,"wenjian"),console.log("====================================")};var a=new FileReader;a.onload=function(e){var t=e.target.result;A(t),U(!0)},a.readAsText(t,"utf-8")}}})))),c.a.createElement(d.o,{onClick:ce.event},ce.text),c.a.createElement("div",{className:"notice"},"Notice : This detection is the basic item scan, please do not treat it as the final audit report.For the final report, please contact customer service for manual audit"),c.a.createElement("div",{className:"detect",onClick:function(){n.push("/contract_detection/history")}},"500+ Detected ",c.a.createElement("span",null)))),c.a.createElement(p,{isOpen:Y,onDismiss:function(){$(!1),ee(""),W(""),A("")},errorMsg:Z}))}}}]);
//# sourceMappingURL=14.765216c9.chunk.js.map